<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>LazyBlog</title>
  
  <subtitle>璿慈一世、唯慈魚心</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://ios.league2eb.me/"/>
  <updated>2021-01-28T17:20:19.885Z</updated>
  <id>https://ios.league2eb.me/</id>
  
  <author>
    <name>Lazy</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>建構Server常用指令與工具</title>
    <link href="https://ios.league2eb.me/posts/ae3603d5/"/>
    <id>https://ios.league2eb.me/posts/ae3603d5/</id>
    <published>2021-01-26T17:52:29.000Z</published>
    <updated>2021-01-28T17:20:19.885Z</updated>
    
    <content type="html"><![CDATA[<h1 id="建構Server常用指令與工具"><a href="#建構Server常用指令與工具" class="headerlink" title="建構Server常用指令與工具"></a>建構Server常用指令與工具</h1><h2 id="先檢查一下"><a href="#先檢查一下" class="headerlink" title="先檢查一下"></a>先檢查一下</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get upgrade</span><br></pre></td></tr></table></figure><h2 id="安裝-Nginx"><a href="#安裝-Nginx" class="headerlink" title="安裝 Nginx"></a>安裝 Nginx</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install nginx -y</span><br></pre></td></tr></table></figure><h2 id="安裝-MariaDB"><a href="#安裝-MariaDB" class="headerlink" title="安裝 MariaDB"></a>安裝 MariaDB</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install mariadb-server -y</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable mariadb.service</span><br></pre></td></tr></table></figure><h2 id="安装-PHP-7-4"><a href="#安装-PHP-7-4" class="headerlink" title="安装 PHP 7.4"></a>安装 PHP 7.4</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install software-properties-common -y</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">add-apt-repository ppa:ondrej/php</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install php7.4 php7.4-cli php7.4-fpm php7.4-mysql php7.4-json php7.4-opcache php7.4-mbstring php7.4-xml php7.4-gd php7.4-curl -y</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php -verson</span><br></pre></td></tr></table></figure><h2 id="建立WordPressDB"><a href="#建立WordPressDB" class="headerlink" title="建立WordPressDB"></a>建立WordPressDB</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE wordpress_db;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GRANT ALL ON wordpress_db.* TO &apos;wpuser&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;Password&apos; WITH GRANT OPTION;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure><h2 id="nginx相關"><a href="#nginx相關" class="headerlink" title="nginx相關"></a>nginx相關</h2><p><strong>建立WP目錄</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir /var/www/html/wordpress</span><br></pre></td></tr></table></figure><p><strong>為 WordPress 創建 Nginx 服務器文件。</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/nginx/sites-available/wordpress.conf</span><br></pre></td></tr></table></figure><p><strong>連接符號文件，順便重新載入設定</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/nginx/sites-enabled &amp;&amp; ln -s ../sites-available/wordpress.conf . &amp;&amp; systemctl reload nginx</span><br></pre></td></tr></table></figure><p><strong>刷新，通常配置有變動後使用</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl reload nginx</span><br></pre></td></tr></table></figure><p><strong>強制重啟nginx</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart nginx</span><br></pre></td></tr></table></figure><p><strong>檢查狀態</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status nginx</span><br></pre></td></tr></table></figure><p><strong>檢查設定檔案語法有無錯誤</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -t</span><br></pre></td></tr></table></figure><h2 id="WordPress下載與安裝"><a href="#WordPress下載與安裝" class="headerlink" title="WordPress下載與安裝"></a>WordPress下載與安裝</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /var/www/html/wordpress</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://tw.wordpress.org/latest-zh_TW.tar.gz</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf latest-zh_TW.tar.gz</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv wordpress/* .</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf wordpress latest-zh_TW.tar.gz</span><br></pre></td></tr></table></figure><h2 id="權限變更"><a href="#權限變更" class="headerlink" title="權限變更"></a>權限變更</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /var/www/html &amp;&amp; chown -R www-data:www-data *</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod -R 755 *</span><br></pre></td></tr></table></figure><h2 id="設定WP文件"><a href="#設定WP文件" class="headerlink" title="設定WP文件"></a>設定WP文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /var/www/html/wordpress &amp;&amp; mv wp-config-sample.php wp-config.php</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi wp-config.php</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">define(&apos;DB_NAME&apos;, &apos;wordpress_db&apos;); </span><br><span class="line">define(&apos;DB_USER&apos;, &apos;wpuser&apos;); </span><br><span class="line">define(&apos;DB_PASSWORD&apos;, &apos;Passw0rd!&apos;);</span><br></pre></td></tr></table></figure><p><strong>點擊產生安全鑰匙</strong><br><a href="https://api.wordpress.org/secret-key/1.1/salt/" target="_blank" rel="noopener">https://api.wordpress.org/secret-key/1.1/salt/</a></p><h2 id="修改上傳檔案大小的位置"><a href="#修改上傳檔案大小的位置" class="headerlink" title="修改上傳檔案大小的位置"></a>修改上傳檔案大小的位置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/php/7.4/fpm/php.ini</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">upload_max_filesize = 32M</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post_max_size = 32M</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">memory_limit = 64M</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">max_execution_time = 300</span><br></pre></td></tr></table></figure><p><strong>重新啟動fpm</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart php7.4-fpm.service</span><br></pre></td></tr></table></figure><p><strong>nginx.conf的http括號內添加上限</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">client_max_body_size 0;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service nginx reload</span><br></pre></td></tr></table></figure><h2 id="80配置"><a href="#80配置" class="headerlink" title="80配置"></a>80配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">server &#123; </span><br><span class="line">           listen 80; </span><br><span class="line">           root /var/www/html/wordpress; </span><br><span class="line">           index index.php index.html; </span><br><span class="line">           server_name XXXX; </span><br><span class="line"></span><br><span class="line">           access_log /var/log/nginx/www.access.log; </span><br><span class="line">           error_log /var/log/nginx/www.error.log;  </span><br><span class="line"></span><br><span class="line">           location / &#123; </span><br><span class="line">                          try_files $uri $uri/ =404;  </span><br><span class="line">           &#125; </span><br><span class="line"></span><br><span class="line">           location ~ \.php$ &#123; </span><br><span class="line">                          include snippets/fastcgi-php.conf; </span><br><span class="line">                          fastcgi_pass unix:/run/php/php7.4-fpm.sock; </span><br><span class="line">           &#125;</span><br><span class="line"> </span><br><span class="line">           location ~ /\.ht &#123; </span><br><span class="line">                          deny all; </span><br><span class="line">           &#125; </span><br><span class="line"></span><br><span class="line">           location = /favicon.ico &#123; </span><br><span class="line">                          log_not_found off; </span><br><span class="line">                          access_log off; </span><br><span class="line">           &#125; </span><br><span class="line"></span><br><span class="line">           location = /robots.txt &#123; </span><br><span class="line">                          allow all; </span><br><span class="line">                          log_not_found off; </span><br><span class="line">                          access_log off; </span><br><span class="line">           &#125; </span><br><span class="line"></span><br><span class="line">           location ~* \.(js|css|png|jpg|jpeg|gif|ico)$ &#123; </span><br><span class="line">                          expires max; </span><br><span class="line">                          log_not_found off; </span><br><span class="line">           &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="443配置"><a href="#443配置" class="headerlink" title="443配置"></a>443配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line"></span><br><span class="line">    listen 443 ssl;</span><br><span class="line">    listen [::]:443 ssl;</span><br><span class="line"></span><br><span class="line">    server_name demo1.xuanci.tw;</span><br><span class="line">    root /var/www/html/wordpress/;</span><br><span class="line">    index index.php index.html index.htm;</span><br><span class="line"></span><br><span class="line">    access_log /var/log/nginx/access.log;</span><br><span class="line">    error_log /var/log/nginx/error.log;</span><br><span class="line"></span><br><span class="line">    ssl_certificate /etc/nginx/ssl/demo1.xuanci.tw/fullchain.cer;</span><br><span class="line">    ssl_certificate_key /etc/nginx/ssl/demo1.xuanci.tw/keyfile.pem;</span><br><span class="line">    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line">    ssl_prefer_server_ciphers on;</span><br><span class="line">    ssl_ciphers AES256+EECDH:AES256+EDH:!aNULL;</span><br><span class="line">   </span><br><span class="line">    add_header Content-Security-Policy upgrade-insecure-requests;</span><br><span class="line">    add_header X-XSS-Protection &quot;1; mode=block&quot;;</span><br><span class="line">    add_header X-Content-Type-Options nosniff;</span><br><span class="line">    add_header Referrer-Policy &quot;no-referrer-when-downgrade&quot;; </span><br><span class="line">    </span><br><span class="line">    location / &#123;</span><br><span class="line">        try_files $uri $uri/ /index.php?$query_string;</span><br><span class="line">        #try_files $uri $uri/ =404;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location ~ \.php$ &#123;</span><br><span class="line">        include snippets/fastcgi-php.conf;</span><br><span class="line">        fastcgi_pass unix:/run/php/php7.4-fpm.sock;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location ~ /\.ht &#123;</span><br><span class="line">        deny all;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location = /favicon.ico &#123;</span><br><span class="line">        log_not_found off;</span><br><span class="line">        access_log off;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location = /robots.txt &#123;</span><br><span class="line">        allow all;</span><br><span class="line">        log_not_found off;</span><br><span class="line">        access_log off;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location ~* \.(js|css|png|jpg|jpeg|gif|ico)$ &#123;</span><br><span class="line">        expires max;</span><br><span class="line">        log_not_found off;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    listen [::]:80;</span><br><span class="line">    server_name demo1.xuanci.tw;</span><br><span class="line">    rewrite ^/(.*) https://demo1.xuanci.tw/$1 permanent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;建構Server常用指令與工具&quot;&gt;&lt;a href=&quot;#建構Server常用指令與工具&quot; class=&quot;headerlink&quot; title=&quot;建構Server常用指令與工具&quot;&gt;&lt;/a&gt;建構Server常用指令與工具&lt;/h1&gt;&lt;h2 id=&quot;先檢查一下&quot;&gt;&lt;a hre
      
    
    </summary>
    
    
      <category term="Server" scheme="https://ios.league2eb.me/categories/Server/"/>
    
    
  </entry>
  
  <entry>
    <title>Docker啟動WP</title>
    <link href="https://ios.league2eb.me/posts/405aca44/"/>
    <id>https://ios.league2eb.me/posts/405aca44/</id>
    <published>2021-01-26T10:43:13.000Z</published>
    <updated>2021-01-26T10:51:09.576Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Docker啟動WP"><a href="#Docker啟動WP" class="headerlink" title="Docker啟動WP"></a>Docker啟動WP</h1><h2 id="安裝Docker"><a href="#安裝Docker" class="headerlink" title="安裝Docker"></a>安裝Docker</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://get.docker.com -o get-docker.sh</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh get-docker.sh</span><br></pre></td></tr></table></figure><h2 id="確認有安裝好Docker"><a href="#確認有安裝好Docker" class="headerlink" title="確認有安裝好Docker"></a>確認有安裝好Docker</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker -version</span><br></pre></td></tr></table></figure><h2 id="安裝Docker-Comopose"><a href="#安裝Docker-Comopose" class="headerlink" title="安裝Docker Comopose"></a>安裝Docker Comopose</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install docker-compose</span><br></pre></td></tr></table></figure><h2 id="確認有安裝好docker-compose"><a href="#確認有安裝好docker-compose" class="headerlink" title="確認有安裝好docker compose"></a>確認有安裝好docker compose</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose</span><br></pre></td></tr></table></figure><h2 id="利用docker-compose把yml檔案中的描述做啟動"><a href="#利用docker-compose把yml檔案中的描述做啟動" class="headerlink" title="利用docker compose把yml檔案中的描述做啟動"></a>利用docker compose把yml檔案中的描述做啟動</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><h2 id="yml"><a href="#yml" class="headerlink" title="yml"></a>yml</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">version: &apos;3.3&apos;</span><br><span class="line"></span><br><span class="line">services:</span><br><span class="line"></span><br><span class="line">  wordpress:</span><br><span class="line">    image: wordpress</span><br><span class="line">    restart: always</span><br><span class="line">    ports:</span><br><span class="line">      - 80:80</span><br><span class="line">    environment:</span><br><span class="line">      WORDPRESS_DB_HOST: db</span><br><span class="line">      WORDPRESS_DB_USER: exampleuser</span><br><span class="line">      WORDPRESS_DB_PASSWORD: examplepass</span><br><span class="line">      WORDPRESS_DB_NAME: exampledb</span><br><span class="line">    volumes:</span><br><span class="line">      - ./wordpress:/var/www/html</span><br><span class="line"></span><br><span class="line">  db:</span><br><span class="line">    image: mysql:5.7</span><br><span class="line">    restart: always</span><br><span class="line">    environment:</span><br><span class="line">      MYSQL_DATABASE: exampledb</span><br><span class="line">      MYSQL_USER: exampleuser</span><br><span class="line">      MYSQL_PASSWORD: examplepass</span><br><span class="line">      MYSQL_RANDOM_ROOT_PASSWORD: &apos;1&apos;</span><br><span class="line">    volumes:</span><br><span class="line">      - ./db:/var/lib/mysql</span><br><span class="line"></span><br><span class="line">docker-compose.yml (END)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Docker啟動WP&quot;&gt;&lt;a href=&quot;#Docker啟動WP&quot; class=&quot;headerlink&quot; title=&quot;Docker啟動WP&quot;&gt;&lt;/a&gt;Docker啟動WP&lt;/h1&gt;&lt;h2 id=&quot;安裝Docker&quot;&gt;&lt;a href=&quot;#安裝Docker&quot; cla
      
    
    </summary>
    
    
      <category term="Server" scheme="https://ios.league2eb.me/categories/Server/"/>
    
    
  </entry>
  
  <entry>
    <title>Chrome找回下架或被誤判惡意的套件</title>
    <link href="https://ios.league2eb.me/posts/3fd5bfe1/"/>
    <id>https://ios.league2eb.me/posts/3fd5bfe1/</id>
    <published>2020-11-12T07:33:20.000Z</published>
    <updated>2020-11-12T08:10:04.709Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>喜歡使用的Google Chrome 套件被下架或者被誤判為惡意軟體無法使用時，快速解決方式就是下載原始檔案並且放在本地端執行</p></blockquote><h2 id="找出該套件的資料夾"><a href="#找出該套件的資料夾" class="headerlink" title="找出該套件的資料夾"></a>找出該套件的資料夾</h2><h3 id="打開擴充套件頁面"><a href="#打開擴充套件頁面" class="headerlink" title="打開擴充套件頁面"></a>打開擴充套件頁面</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chrome://extensions/</span><br></pre></td></tr></table></figure><h3 id="複製應用ID，這邊舉例One-Click-URL-Shortener，因為今天發現他被判定為惡意程式"><a href="#複製應用ID，這邊舉例One-Click-URL-Shortener，因為今天發現他被判定為惡意程式" class="headerlink" title="複製應用ID，這邊舉例One Click URL Shortener，因為今天發現他被判定為惡意程式"></a>複製應用ID，這邊舉例One Click URL Shortener，因為今天發現他被判定為惡意程式</h3><p><img src="https://i.loli.net/2020/11/12/Urm5DbtugjKqiAE.png" alt></p><h3 id="開啟終端機，並移動到下面的路徑"><a href="#開啟終端機，並移動到下面的路徑" class="headerlink" title="開啟終端機，並移動到下面的路徑"></a>開啟終端機，並移動到下面的路徑</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /Users/你的用戶名/Library/Application Support/Google/Chrome/Default/Extensions</span><br></pre></td></tr></table></figure><h3 id="搜尋該資料夾"><a href="#搜尋該資料夾" class="headerlink" title="搜尋該資料夾"></a>搜尋該資料夾</h3><p><img src="https://i.loli.net/2020/11/12/MtNRpnFjIOxqSrL.png" alt></p><p><strong>所以，完整路徑就是</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/Users/你的用戶名/Library/Application Support/Google/Chrome/Default/Extensions/fjnodoodcohggdkacpmiidjikhlihcdk</span><br></pre></td></tr></table></figure><h2 id="確認搜尋到該資料夾後，回到Google-Chrome「封裝擴充功能」"><a href="#確認搜尋到該資料夾後，回到Google-Chrome「封裝擴充功能」" class="headerlink" title="確認搜尋到該資料夾後，回到Google Chrome「封裝擴充功能」"></a>確認搜尋到該資料夾後，回到Google Chrome「封裝擴充功能」</h2><p><img src="https://i.loli.net/2020/11/12/ubYAKeQ1WFGpCN3.png" alt></p><ul><li>目錄請填寫剛剛找到的資料夾並且加入版本號</li><li>私密金鑰檔案留空</li><li>點擊封裝擴充功能</li></ul><p><img src="https://i.loli.net/2020/11/12/XVfJqkarOQDcH8g.png" alt></p><h2 id="完成後會出現該對話視窗，並且於擴充路經中找到附檔名為crx的檔案"><a href="#完成後會出現該對話視窗，並且於擴充路經中找到附檔名為crx的檔案" class="headerlink" title="完成後會出現該對話視窗，並且於擴充路經中找到附檔名為crx的檔案"></a>完成後會出現該對話視窗，並且於擴充路經中找到附檔名為<code>crx</code>的檔案</h2><p><img src="https://i.loli.net/2020/11/12/nehz5CtuZdks34m.png" alt><br><img src="https://i.loli.net/2020/11/12/stzpHBi8byoGCZU.png" alt></p><h2 id="使用壞壞工具把程式碼給尻出來"><a href="#使用壞壞工具把程式碼給尻出來" class="headerlink" title="使用壞壞工具把程式碼給尻出來"></a>使用壞壞工具把程式碼給尻出來</h2><p><a href="https://crxextractor.com/" target="_blank" rel="noopener">壞壞工具</a></p><ul><li>選擇剛剛的crx檔案</li></ul><p><img src="https://i.loli.net/2020/11/12/2nzMvaBdHxD5iYK.png" alt></p><ul><li>下載原始碼到你自己想要放的資料夾</li></ul><h2 id="安裝"><a href="#安裝" class="headerlink" title="安裝"></a>安裝</h2><p><a href="https://tinyurl.com/yxfzhzh3" target="_blank" rel="noopener">快速安裝</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;喜歡使用的Google Chrome 套件被下架或者被誤判為惡意軟體無法使用時，快速解決方式就是下載原始檔案並且放在本地端執行&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;找出該套件的資料夾&quot;&gt;&lt;a href=&quot;#找出該套件的資料夾&quot; cl
      
    
    </summary>
    
    
      <category term="mac" scheme="https://ios.league2eb.me/categories/mac/"/>
    
    
      <category term="chrome" scheme="https://ios.league2eb.me/tags/chrome/"/>
    
  </entry>
  
  <entry>
    <title>Swift於字串中插入指定文字</title>
    <link href="https://ios.league2eb.me/posts/8e0ec638/"/>
    <id>https://ios.league2eb.me/posts/8e0ec638/</id>
    <published>2020-06-05T01:24:42.000Z</published>
    <updated>2020-06-05T21:01:52.191Z</updated>
    
    <content type="html"><![CDATA[<h2 id="舉個例子"><a href="#舉個例子" class="headerlink" title="舉個例子"></a>舉個例子</h2><p><strong>信用卡</strong>輸入後，UI有可能會是這樣顯示</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0000-0000-0000-0000</span><br></pre></td></tr></table></figure><p>假設這個應用的UI不是設定四個TextField<br>那這時，就有必要在指定的範圍內加入指定字串</p><h2 id="extension"><a href="#extension" class="headerlink" title="extension"></a>extension</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">StringProtocol</span> <span class="title">where</span> <span class="title">Self</span>: <span class="title">RangeReplaceableCollection</span> </span>&#123;</span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">insert</span><span class="params">(separator: <span class="keyword">Self</span>, every <span class="built_in">count</span>: Int)</span></span> &#123;</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">indices</span>.reversed() <span class="keyword">where</span> i != startIndex &amp;&amp;</span><br><span class="line">            <span class="built_in">distance</span>(from: startIndex, to: i) % <span class="built_in">count</span> == <span class="number">0</span> &#123;</span><br><span class="line">                insert(contentsOf: separator, at: i)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> creditcard: <span class="type">String</span> = <span class="string">"1111222233334444"</span></span><br><span class="line">creditcard.insert(separator: <span class="string">"-"</span>, every: <span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(creditcard)</span><br><span class="line"><span class="comment">//1111-2222-3333-4444</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;舉個例子&quot;&gt;&lt;a href=&quot;#舉個例子&quot; class=&quot;headerlink&quot; title=&quot;舉個例子&quot;&gt;&lt;/a&gt;舉個例子&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;信用卡&lt;/strong&gt;輸入後，UI有可能會是這樣顯示&lt;/p&gt;
&lt;figure class=&quot;highlig
      
    
    </summary>
    
    
      <category term="iOS" scheme="https://ios.league2eb.me/categories/iOS/"/>
    
    
      <category term="Swift" scheme="https://ios.league2eb.me/tags/Swift/"/>
    
      <category term="String" scheme="https://ios.league2eb.me/tags/String/"/>
    
  </entry>
  
  <entry>
    <title>iOS13中，statusBar訪問寫法</title>
    <link href="https://ios.league2eb.me/posts/216bbda6/"/>
    <id>https://ios.league2eb.me/posts/216bbda6/</id>
    <published>2020-06-03T15:40:37.000Z</published>
    <updated>2020-06-05T21:01:52.194Z</updated>
    
    <content type="html"><![CDATA[<h2 id="原本是這樣寫，但訪問的時候會有機率性閃退"><a href="#原本是這樣寫，但訪問的時候會有機率性閃退" class="headerlink" title="原本是這樣寫，但訪問的時候會有機率性閃退"></a>原本是這樣寫，但訪問的時候會有機率性閃退</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> statusBarView: <span class="type">UIView?</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> responds(to: <span class="type">Selector</span>((<span class="string">"statusBar"</span>))) &#123;</span><br><span class="line">        <span class="keyword">return</span> value(forKey: <span class="string">"statusBar"</span>) <span class="keyword">as</span>? <span class="type">UIView</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>並且給出下面這段Error</p><p><fancybox><img src="https://i.loli.net/2020/06/03/LDsgopByXZIW7hm.png" alt></fancybox></p><h2 id="新寫法"><a href="#新寫法" class="headerlink" title="新寫法"></a>新寫法</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> statusBarView: <span class="type">UIView?</span> &#123;</span><br><span class="line">     <span class="keyword">if</span> #available(iOS <span class="number">13.0</span>, *) &#123;</span><br><span class="line">         <span class="keyword">let</span> statusBarView = <span class="type">UIView</span>(frame: <span class="type">UIApplication</span>.shared.statusBarFrame)</span><br><span class="line">         <span class="keyword">return</span> statusBarView</span><br><span class="line">     &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         <span class="keyword">guard</span> <span class="keyword">let</span> statusBarView = <span class="type">UIApplication</span>.shared.value(forKeyPath: <span class="string">"statusBarWindow.statusBar"</span>) <span class="keyword">as</span>? <span class="type">UIView</span> <span class="keyword">else</span> &#123;</span><br><span class="line">             <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">return</span> statusBarView</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p><strong>特別感謝<a href="https://www.marksu.idv.tw/" target="_blank" rel="noopener">MARK SU</a>用心記錄</strong><br>此篇特別感謝，並筆記</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;原本是這樣寫，但訪問的時候會有機率性閃退&quot;&gt;&lt;a href=&quot;#原本是這樣寫，但訪問的時候會有機率性閃退&quot; class=&quot;headerlink&quot; title=&quot;原本是這樣寫，但訪問的時候會有機率性閃退&quot;&gt;&lt;/a&gt;原本是這樣寫，但訪問的時候會有機率性閃退&lt;/h2&gt;&lt;
      
    
    </summary>
    
    
      <category term="iOS" scheme="https://ios.league2eb.me/categories/iOS/"/>
    
    
      <category term="Swift" scheme="https://ios.league2eb.me/tags/Swift/"/>
    
      <category term="iOS" scheme="https://ios.league2eb.me/tags/iOS/"/>
    
      <category term="UIView" scheme="https://ios.league2eb.me/tags/UIView/"/>
    
  </entry>
  
  <entry>
    <title>利用Let’s Encrypt自動簽署網域SSL憑證</title>
    <link href="https://ios.league2eb.me/posts/27a8063c/"/>
    <id>https://ios.league2eb.me/posts/27a8063c/</id>
    <published>2020-05-29T05:14:31.000Z</published>
    <updated>2021-01-28T17:21:19.562Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Let’s-Encrypt自動簽署"><a href="#Let’s-Encrypt自動簽署" class="headerlink" title="Let’s Encrypt自動簽署"></a>Let’s Encrypt自動簽署</h2><p>斗大的標題<br><strong>「Let’s Encrypt 是免費、自動化和開放的憑證頒發機構」</strong></p><p><a href="https://letsencrypt.org/zh-tw/" target="_blank" rel="noopener">基本上就是免費的SSL憑證簽署的服務</a></p><h2 id="acme-sh"><a href="#acme-sh" class="headerlink" title="acme.sh"></a>acme.sh</h2><p><a href="https://github.com/acmesh-official/acme.sh" target="_blank" rel="noopener">一個自動從letsencrypt簽署免費證書的腳本</a></p><h2 id="條件、環境"><a href="#條件、環境" class="headerlink" title="條件、環境"></a>條件、環境</h2><ol><li>已經<a href="www.gandi.net">購買</a>了網域名稱</li><li>已經從<a href="https://dash.cloudflare.com/" target="_blank" rel="noopener">Cloudflare</a>指定了IP</li><li>伺服器已經安裝nginx，如果沒有<a href="https://tinyurl.com/yda7dhnd" target="_blank" rel="noopener">點這裡</a></li></ol><h2 id="安裝acme-sh"><a href="#安裝acme-sh" class="headerlink" title="安裝acme.sh"></a>安裝acme.sh</h2><p><strong>以下兩個指令在Server端執行，不是本機</strong></p><p><code>在伺服器安裝acme.sh</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl  https://get.acme.sh | sh</span><br></pre></td></tr></table></figure><p><strong>安裝完畢會這樣</strong></p><p><img src="https://i.loli.net/2020/05/29/wRzeXA9rPdLukjf.png" alt></p><p><strong>移動到root底下的acme資料夾</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ./.acme.sh/</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/05/29/aqQkfVjW3N97LBC.png" alt></p><p><code>安裝完畢打開acme.sh 的自動更新</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./acme.sh  --upgrade  --auto-upgrade</span><br></pre></td></tr></table></figure><p><strong>確認成功</strong></p><p><img src="https://i.loli.net/2020/05/29/O4Gwp52STWy1chX.png" alt></p><h2 id="從CloudFlare先記錄一下必要資訊"><a href="#從CloudFlare先記錄一下必要資訊" class="headerlink" title="從CloudFlare先記錄一下必要資訊"></a>從CloudFlare先記錄一下必要資訊</h2><p><code>選擇你已經建立好的網域</code></p><p><img src="https://i.loli.net/2020/05/29/2KXEYJvgxMAS7tu.png" alt></p><p><strong>網頁滾動到在下方</strong></p><p><code>打開一個記事本然後把這兩個複製貼上到記事本先記著，記事本不要關閉</code></p><ul><li>區域ID</li><li>帳戶ID</li></ul><p><img src="https://i.loli.net/2020/05/29/23LrDMT5AuveRgl.png" alt></p><h2 id="申請令牌"><a href="#申請令牌" class="headerlink" title="申請令牌"></a>申請令牌</h2><p><code>點擊剛剛記錄區域ID、帳戶ID區塊最下方的獲取您的API令牌</code></p><p><img src="https://i.loli.net/2020/05/29/7z4GCoyk5p9itWO.png" alt></p><p><code>點擊創建令牌</code></p><p><strong>令牌不可共用，所以獨立再創一個這個畫面只是表示我曾經創立過的樣子</strong></p><p><img src="https://i.loli.net/2020/05/29/Nzu5oZdhk6X7FIO.png" alt></p><p><code>找到編輯區域DNS併點擊使用模版</code></p><p><img src="https://i.loli.net/2020/05/29/SqzOX3T7fpuAiJb.png" alt></p><p><code>選擇你想指定的網域</code></p><p><img src="https://i.loli.net/2020/05/29/XgPzLB5KqVkHvYx.png" alt></p><p><code>滾動到最下方，繼續以顯示摘要</code></p><p><img src="https://i.loli.net/2020/05/29/E9WRztgDe1mMFXY.png" alt></p><p><code>點擊創建令牌</code></p><p><img src="https://i.loli.net/2020/05/29/WmkHCxP9lon73iy.png" alt></p><p><strong>複製專屬該網域的令牌到剛剛的記事本</strong></p><p><img src="https://i.loli.net/2020/05/29/BPbGE9pKZdS6Owy.png" alt></p><h2 id="確認一下記事本"><a href="#確認一下記事本" class="headerlink" title="確認一下記事本"></a>確認一下記事本</h2><p><code>應該會像是這樣子，前面的文字是我標示的讓讀者清楚</code><br><code>反正會有三組東西，但最好自己標記哪一個是什麼</code></p><p><img src="https://i.loli.net/2020/05/29/WJOeycj4mPslaRx.png" alt></p><h2 id="回到伺服器做令牌、區域、帳戶設定"><a href="#回到伺服器做令牌、區域、帳戶設定" class="headerlink" title="回到伺服器做令牌、區域、帳戶設定"></a>回到伺服器做令牌、區域、帳戶設定</h2><p><strong>這小標題寫很清楚，現在要去下指令的地方是伺服器噢！</strong></p><p><code>指定令牌、帳號、區域</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export CF_Token=剛剛複製的另牌</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export CF_Account_ID=剛剛複製的帳戶ID</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export CF_Zone_ID=剛剛複製的區域ID</span><br></pre></td></tr></table></figure><h2 id="簽名證書"><a href="#簽名證書" class="headerlink" title="簽名證書"></a>簽名證書</h2><p><strong>一樣是在伺服器下指令</strong></p><p><strong>先移動到/root/.acme.sh</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /root/.acme.sh</span><br></pre></td></tr></table></figure><p><strong>簽</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./acme.sh --issue --dns dns_cf -d 這文字替換成你的網域 -d &apos;*.這文字替換成你的網域&apos;</span><br></pre></td></tr></table></figure><p><strong>範例</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./acme.sh --issue --dns dns_cf -d fuckyou.com -d &apos;*.fuckyou.com&apos;</span><br></pre></td></tr></table></figure><p><code>因為這裡會跑一大堆，直接看重點</code></p><p><img src="https://i.loli.net/2020/05/29/AyJYOXglifxmjkw.png" alt></p><ol><li>會自動在/root/.acme.sh底下生成跟你的網域名稱一樣的資料夾</li><li>證書會放在這裡面</li></ol><p><img src="https://i.loli.net/2020/05/29/BI8goPKrbMpY7q5.png" alt></p><h2 id="去nginx底下建立跟域名同樣的資料夾"><a href="#去nginx底下建立跟域名同樣的資料夾" class="headerlink" title="去nginx底下建立跟域名同樣的資料夾"></a>去nginx底下建立跟域名同樣的資料夾</h2><p><code>移動到nginx底下併建立ssl資料夾</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/nginx/ &amp;&amp; mkdir ssl</span><br></pre></td></tr></table></figure><p><code>移動到 ssl 資料夾並且建立與同域名相同的資料夾</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ssl &amp;&amp; mkdir 同域名資料夾名稱</span><br></pre></td></tr></table></figure><p><strong>建議這麼做是因為如果伺服器有多個域名，Key的檔案名稱會一樣，如果丟在同一個目錄底下會導致覆蓋，用域名來區分資料夾最好管理</strong></p><h2 id="安裝證書到指定資料夾"><a href="#安裝證書到指定資料夾" class="headerlink" title="安裝證書到指定資料夾"></a>安裝證書到指定資料夾</h2><p><code>回到acme資料夾</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /root/.acme.sh</span><br></pre></td></tr></table></figure><p><strong>替換指令中的文字，不要整個貼上去結果那邊苦惱…</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./acme.sh --installcert -d 網域名稱 --key-file /etc/nginx/ssl/同網域之資料夾名稱/keyfile.pem  --fullchain-file /etc/nginx/ssl/同網域之資料夾名稱/fullchain.cer --reloadcmd &quot;sudo service nginx force-reload&quot;</span><br></pre></td></tr></table></figure><p><strong>成功</strong></p><p><img src="https://i.loli.net/2020/05/29/sy3ewVQocEIAmKf.png" alt></p><h2 id="Nginx寫好設定檔案"><a href="#Nginx寫好設定檔案" class="headerlink" title="Nginx寫好設定檔案"></a>Nginx寫好設定檔案</h2><p><strong>這裡的行為一樣是在Server端操作</strong></p><p><code>移動到nginx資料夾內</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/nginx/</span><br></pre></td></tr></table></figure><p><strong>這裡說一個坑，必須讀</strong></p><p>系統預設吃的443Port設定檔案會根據版本還有作業系統不同有差異<br>寫到這裡的時候我本來要請讀者直接在conf.d裡面新增一個default.conf的檔案，但根據學習經驗…有可能預設讀取的位置卻是<br>/etc/nginx/sites-enabled/資料夾底下<br>套句我師父的話：「伺服器好難」</p><h3 id="如果你的Nginx預設就有sites-enabled資料夾"><a href="#如果你的Nginx預設就有sites-enabled資料夾" class="headerlink" title="如果你的Nginx預設就有sites-enabled資料夾"></a>如果你的Nginx預設就有sites-enabled資料夾</h3><p><code>編輯nginx.conf，並指定設定檔案資料夾</code><br><code>寫在http的括號內</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http &#123;</span><br><span class="line">        include /etc/nginx/sites-enabled/*;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>移動到sites-enabled 並且新增一個與你的網域同名的設定檔</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> sites-enabled &amp;&amp; vi 網域.conf</span><br></pre></td></tr></table></figure><p><strong>把底下的程式碼直接貼上，但請修改好其中的網域</strong> </p><script src="https://gist.github.com/League2EB/a5d4c5f627fabf817b09da3c15973c25.js"></script><p><code>儲存寫入</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:wq</span><br></pre></td></tr></table></figure><h3 id="如果你的Nginx預設「沒有」sites-enabled資料夾"><a href="#如果你的Nginx預設「沒有」sites-enabled資料夾" class="headerlink" title="如果你的Nginx預設「沒有」sites-enabled資料夾"></a>如果你的Nginx預設「沒有」sites-enabled資料夾</h3><p><code>移動並且編輯cond.d資料夾中的default.conf</code></p><p>修改好<a href="https://gist.github.com/League2EB/a5d4c5f627fabf817b09da3c15973c25" target="_blank" rel="noopener">這個</a>裡面的網域後貼上</p><p><code>儲存寫入</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:wq</span><br></pre></td></tr></table></figure><h2 id="Cloudflare中SSL設定"><a href="#Cloudflare中SSL設定" class="headerlink" title="Cloudflare中SSL設定"></a>Cloudflare中SSL設定</h2><p><code>網域中類型A的代理切換為關閉</code></p><p><img src="https://i.loli.net/2020/06/01/VJQTrIvOicLYENq.png" alt></p><p><code>加密模式改為完全嚴格</code></p><p><img src="https://i.loli.net/2020/06/01/NZD8oJI4dVpKQEU.png" alt></p><h2 id="重刷新網頁，查看憑證是否成功"><a href="#重刷新網頁，查看憑證是否成功" class="headerlink" title="重刷新網頁，查看憑證是否成功"></a>重刷新網頁，查看憑證是否成功</h2><p><code>範例</code></p><p><img src="https://i.loli.net/2020/06/01/tGUnOmZAT9NdJoy.png" alt></p><p><strong>如果以上有寫錯，或者不懂歡迎提出討論</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Let’s-Encrypt自動簽署&quot;&gt;&lt;a href=&quot;#Let’s-Encrypt自動簽署&quot; class=&quot;headerlink&quot; title=&quot;Let’s Encrypt自動簽署&quot;&gt;&lt;/a&gt;Let’s Encrypt自動簽署&lt;/h2&gt;&lt;p&gt;斗大的標題&lt;br&gt;&lt;
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>用指令殺死卡住的程式</title>
    <link href="https://ios.league2eb.me/posts/9a823c6d/"/>
    <id>https://ios.league2eb.me/posts/9a823c6d/</id>
    <published>2020-05-19T08:26:00.000Z</published>
    <updated>2020-06-04T10:22:39.584Z</updated>
    
    <content type="html"><![CDATA[<h2 id="程式卡住了而且無法停止"><a href="#程式卡住了而且無法停止" class="headerlink" title="程式卡住了而且無法停止"></a>程式卡住了而且無法停止</h2><p>有時候一次開太多東西會導致某個軟體卡住<br>此時我們想要關閉重新開啟大多都使用<br><code>command + option + esc</code><br>但就算打了強制結束應用程式的視窗仍會發生</p><ul><li>沒看到該應用程式</li><li>怎麼強制關閉就是關不了</li></ul><h2 id="終端機可以搞定"><a href="#終端機可以搞定" class="headerlink" title="終端機可以搞定"></a>終端機可以搞定</h2><p>打開終端機</p><p>替換xxx為卡死的軟體名稱</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$(ps -ceo pid=,comm= | awk '/xxx/ &#123; print $1; exit &#125;')</span>"</span></span><br></pre></td></tr></table></figure><p>該指令成功的話會打印出一組數字<br>例如 42454</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">kill</span> -9 42454</span><br></pre></td></tr></table></figure><h2 id="這篇很短"><a href="#這篇很短" class="headerlink" title="這篇很短"></a>這篇很短</h2><p>看看就好</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;程式卡住了而且無法停止&quot;&gt;&lt;a href=&quot;#程式卡住了而且無法停止&quot; class=&quot;headerlink&quot; title=&quot;程式卡住了而且無法停止&quot;&gt;&lt;/a&gt;程式卡住了而且無法停止&lt;/h2&gt;&lt;p&gt;有時候一次開太多東西會導致某個軟體卡住&lt;br&gt;此時我們想要關閉重新開
      
    
    </summary>
    
    
      <category term="Mac" scheme="https://ios.league2eb.me/categories/Mac/"/>
    
    
      <category term="Shell" scheme="https://ios.league2eb.me/tags/Shell/"/>
    
      <category term="Command" scheme="https://ios.league2eb.me/tags/Command/"/>
    
  </entry>
  
  <entry>
    <title>Mac + OBS + GoPro + instagram直播</title>
    <link href="https://ios.league2eb.me/posts/1ea94c7e/"/>
    <id>https://ios.league2eb.me/posts/1ea94c7e/</id>
    <published>2020-05-17T10:50:10.000Z</published>
    <updated>2020-06-04T10:22:39.579Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>現在要直播似乎是一件容易的事情，尤其臉書、油管這兩個平台<br>但若是要在「Mac」上進行instagram的直播似乎就是一件麻煩的事情</p><h2 id="探索"><a href="#探索" class="headerlink" title="探索"></a>探索</h2><p>尋找答案的過程中發現了<a href="https://github.com/yuripe-murmur" target="_blank" rel="noopener">yuripe</a>這位大神所撰寫的<a href="https://yuripe-murmur.github.io/posts/2019-11-09-ig/" target="_blank" rel="noopener">文章</a><br>感謝yuripe！<br>但在其中發現了一些小問題，是yuripe沒有特別撰寫到了，所以開了這篇來記錄一下</p><h2 id="條件、必要軟體"><a href="#條件、必要軟體" class="headerlink" title="條件、必要軟體"></a>條件、必要軟體</h2><ul><li>GoPro</li><li>macOS</li><li><a href="https://obsproject.com/" target="_blank" rel="noopener">OBS</a></li><li><a href="https://github.com/mattingalls/Soundflower/releases" target="_blank" rel="noopener">Soundflower</a></li><li><a href="https://www.camerasuite.org/download" target="_blank" rel="noopener">CameraSuite</a></li></ul><h2 id="環境配置"><a href="#環境配置" class="headerlink" title="環境配置"></a>環境配置</h2><p><code>安裝php</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install php</span><br></pre></td></tr></table></figure><h2 id="補充"><a href="#補充" class="headerlink" title="補充"></a>補充</h2><p><a href="https://tinyurl.com/ya26nvh7" target="_blank" rel="noopener">連線教學</a></p><p><a href="https://github.com/zProAle/InstaLive-PHP" target="_blank" rel="noopener">PHP</a></p><p><a href="https://github.com/platformio/platform-lattice_ice40/issues/7" target="_blank" rel="noopener">問題解決</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;現在要直播似乎是一件容易的事情，尤其臉書、油管這兩個平台&lt;br&gt;但若是要在「Mac」上進行instagram的直播似乎就是一件麻煩的事情&lt;/
      
    
    </summary>
    
    
      <category term="mac" scheme="https://ios.league2eb.me/categories/mac/"/>
    
    
      <category term="mac" scheme="https://ios.league2eb.me/tags/mac/"/>
    
      <category term="ffmpeg" scheme="https://ios.league2eb.me/tags/ffmpeg/"/>
    
      <category term="php" scheme="https://ios.league2eb.me/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>如何將推送通知發送到iOS模擬器</title>
    <link href="https://ios.league2eb.me/posts/258f1e09/"/>
    <id>https://ios.league2eb.me/posts/258f1e09/</id>
    <published>2020-05-12T04:10:13.000Z</published>
    <updated>2020-06-04T10:22:39.583Z</updated>
    
    <content type="html"><![CDATA[<h2 id="過去"><a href="#過去" class="headerlink" title="過去"></a>過去</h2><p>Xcode一直以來都不支援模擬器接收推播<br>當要測試的時候，僅能使用實機來做驗證<br>相當麻煩！</p><h2 id="條件"><a href="#條件" class="headerlink" title="條件"></a>條件</h2><ul><li>Xcode 11.4 beta +</li></ul><h2 id="註冊通知並請求權限"><a href="#註冊通知並請求權限" class="headerlink" title="註冊通知並請求權限"></a>註冊通知並請求權限</h2><p><code>AppDelegate.swift</code></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> UserNotifications</span><br><span class="line"></span><br><span class="line"><span class="meta">@UIApplicationMain</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AppDelegate</span>: <span class="title">UIResponder</span>, <span class="title">UIApplicationDelegate</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">application</span><span class="params">(<span class="number">_</span> application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: <span class="keyword">Any</span>]?)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        registerForPushNotifications()</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">registerNotification</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="type">UNUserNotificationCenter</span>.current().requestAuthorization(options: [.alert, .sound, .badge]) &#123; (granted, error) <span class="keyword">in</span></span><br><span class="line">                <span class="built_in">print</span>(<span class="string">"\(granted)"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="寫一個模擬的通知內容並儲存附檔名為-apns的檔案"><a href="#寫一個模擬的通知內容並儲存附檔名為-apns的檔案" class="headerlink" title="寫一個模擬的通知內容並儲存附檔名為.apns的檔案"></a>寫一個模擬的通知內容並儲存附檔名為.apns的檔案</h2><p><code>Simulator Target Bundle必須要修改為對應的BundleId</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;Simulator Target Bundle&quot;: &quot;對應的軟體BundleID&quot;,</span><br><span class="line">    &quot;aps&quot;: &#123;</span><br><span class="line">        &quot;alert&quot;: &quot;測試&quot;,</span><br><span class="line">        &quot;sound&quot;: &quot;default&quot;,</span><br><span class="line">        &quot;badge&quot;: 1</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>寫好之後儲存在桌面命名ExamplePush.apns</code></p><h2 id="複製模擬器的UDID"><a href="#複製模擬器的UDID" class="headerlink" title="複製模擬器的UDID"></a>複製模擬器的UDID</h2><p><img src="https://i.loli.net/2020/05/12/Iujqeb398DS71lZ.png" alt></p><h2 id="方法1-終端機輸入"><a href="#方法1-終端機輸入" class="headerlink" title="方法1 - 終端機輸入"></a>方法1 - 終端機輸入</h2><p><code>設備id替換為模擬器的UDID</code><br><code>應用id替換為bundleid</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcrun simctl push 設備id 應用id ExamplePush.apns</span><br></pre></td></tr></table></figure><h2 id="方法2-直接拖拉"><a href="#方法2-直接拖拉" class="headerlink" title="方法2 - 直接拖拉"></a>方法2 - 直接拖拉</h2><p><img src="https://i.loli.net/2020/05/12/MQa9bDhfstLo64N.png" alt></p><h2 id="幹，誰再跟我說Xcode難用"><a href="#幹，誰再跟我說Xcode難用" class="headerlink" title="幹，誰再跟我說Xcode難用"></a>幹，誰再跟我說Xcode難用</h2><p>你他媽人家有在進步啦！</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;過去&quot;&gt;&lt;a href=&quot;#過去&quot; class=&quot;headerlink&quot; title=&quot;過去&quot;&gt;&lt;/a&gt;過去&lt;/h2&gt;&lt;p&gt;Xcode一直以來都不支援模擬器接收推播&lt;br&gt;當要測試的時候，僅能使用實機來做驗證&lt;br&gt;相當麻煩！&lt;/p&gt;
&lt;h2 id=&quot;條件&quot;&gt;&lt;a
      
    
    </summary>
    
    
      <category term="iOS" scheme="https://ios.league2eb.me/categories/iOS/"/>
    
    
      <category term="Simulator" scheme="https://ios.league2eb.me/tags/Simulator/"/>
    
  </entry>
  
  <entry>
    <title>利用v2ray連線vpn</title>
    <link href="https://ios.league2eb.me/posts/4deff9b2/"/>
    <id>https://ios.league2eb.me/posts/4deff9b2/</id>
    <published>2020-05-03T11:20:34.000Z</published>
    <updated>2020-06-04T10:22:39.583Z</updated>
    
    <content type="html"><![CDATA[<h2 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h2><ol><li>我們公司不知道為什麼阻擋了我使用系統的vpn連線</li><li>電信商LTE都是走IPV6 ，而<a href="https://www.oracle.com/tw/cloud/free/" target="_blank" rel="noopener">甲古文</a>就是不允許….</li><li>或者有其他原因….幹你xxxxxx</li></ol><h2 id="本篇注意事項"><a href="#本篇注意事項" class="headerlink" title="本篇注意事項"></a>本篇注意事項</h2><ul><li><a href="https://ios.league2eb.me/posts/af9bcccd/">已經申請了伺服器</a></li><li><a href="https://tinyurl.com/ybb5ze7u" target="_blank" rel="noopener">伺服器裡頭已經安裝Docker</a></li><li><a href="https://tinyurl.com/yd73qc3w" target="_blank" rel="noopener">沒跑過這個流程，但至少會開防火牆</a></li><li>[Server] - 表示指令都是在伺服器中操作</li><li>[Web] - 表示在某個網站上面操作</li><li>[Local] - 表示在你當前的電腦操作</li><li>[Client] - 表示在Mac桌面版本的v2ray操作</li></ul><h2 id="Web-去Server後台開一組防火牆"><a href="#Web-去Server後台開一組防火牆" class="headerlink" title="[Web] 去Server後台開一組防火牆"></a>[Web] 去Server後台開一組防火牆</h2><p><img src="https://i.loli.net/2020/05/03/hBuTtOpPDejMa5c.png" alt></p><p>「目的地連接埠範圍」填寫 2020，你要寫1234也可以</p><h2 id="Server-在Server裡頭安裝v2ray"><a href="#Server-在Server裡頭安裝v2ray" class="headerlink" title="[Server] - 在Server裡頭安裝v2ray"></a>[Server] - 在Server裡頭安裝v2ray</h2><p><code>獲取v2ray檔案</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull v2ray/official</span><br></pre></td></tr></table></figure><p><code>建立資料夾、建立設定檔案、設定權限</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /etc/v2ray</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch /etc/v2ray/config.json</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod -R 777 /etc/v2ray/</span><br></pre></td></tr></table></figure><h2 id="Web-先製造一組專用識別號碼"><a href="#Web-先製造一組專用識別號碼" class="headerlink" title="[Web] 先製造一組專用識別號碼"></a>[Web] 先製造一組專用識別號碼</h2><p><a href="https://www.uuidgenerator.net/" target="_blank" rel="noopener">從這裡</a> 先製造一組號碼貼到你的記事本，等等會用到</p><h2 id="Server-編輯設定檔案"><a href="#Server-編輯設定檔案" class="headerlink" title="[Server] 編輯設定檔案"></a>[Server] 編輯設定檔案</h2><p><code>進入編輯模式</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/v2ray/config.json</span><br></pre></td></tr></table></figure><p><code>把下面的內容貼上</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;log&quot;: &#123;</span><br><span class="line">        &quot;access&quot;: &quot;/var/log/v2ray/access.log&quot;,</span><br><span class="line">        &quot;error&quot;: &quot;/var/log/v2ray/error.log&quot;,</span><br><span class="line">        &quot;loglevel&quot;: &quot;warning&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;inbound&quot;: &#123;</span><br><span class="line">        &quot;port&quot;: 9487,</span><br><span class="line">        &quot;protocol&quot;: &quot;vmess&quot;,</span><br><span class="line">        &quot;settings&quot;: &#123;</span><br><span class="line">            &quot;clients&quot;: [&#123;</span><br><span class="line">                &quot;id&quot;: &quot;f476e5d9-62d6-4197-8c66-36f6e305fd80&quot;,</span><br><span class="line">                &quot;level&quot;: 1,</span><br><span class="line">                &quot;alterId&quot;: 64</span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;streamSettings&quot;: &#123;</span><br><span class="line">            &quot;network&quot;: &quot;tcp&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;outbound&quot;: &#123;</span><br><span class="line">        &quot;protocol&quot;: &quot;freedom&quot;,</span><br><span class="line">        &quot;settings&quot;: &#123;&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;outboundDetour&quot;: [&#123;</span><br><span class="line">        &quot;tag&quot;: &quot;blocked&quot;,</span><br><span class="line">        &quot;protocol&quot;: &quot;blackhole&quot;,</span><br><span class="line">        &quot;settings&quot;: &#123;&#125;</span><br><span class="line">    &#125;],</span><br><span class="line">    &quot;routing&quot;: &#123;</span><br><span class="line">        &quot;strategy&quot;: &quot;rules&quot;,</span><br><span class="line">        &quot;settings&quot;: &#123;</span><br><span class="line">            &quot;rules&quot;: [&#123;</span><br><span class="line">                &quot;outboundTag&quot;: &quot;blocked&quot;,</span><br><span class="line">                &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">                &quot;ip&quot;: [&quot;geoip:private&quot;]</span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="UUID-把剛剛在網站上的那組號碼更換"><a href="#UUID-把剛剛在網站上的那組號碼更換" class="headerlink" title="UUID 把剛剛在網站上的那組號碼更換"></a>UUID 把剛剛在網站上的那組號碼更換</h4><p><img src="https://i.loli.net/2020/05/03/ICE1yY76RkWe3O2.png" alt></p><h4 id="把一開始去後台設定的防火牆連接埠號碼替換"><a href="#把一開始去後台設定的防火牆連接埠號碼替換" class="headerlink" title="把一開始去後台設定的防火牆連接埠號碼替換"></a>把一開始去後台設定的防火牆連接埠號碼替換</h4><p><img src="https://i.loli.net/2020/05/03/LAvXdc3Gqa2l4zK.png" alt></p><h2 id="Server-存檔"><a href="#Server-存檔" class="headerlink" title="[Server] 存檔"></a>[Server] 存檔</h2><p><a href="https://lmgtfy.com/?q=vi+%E5%AD%98%E6%AA%94" target="_blank" rel="noopener">如果不知道怎麼存檔，看這裡</a></p><h2 id="server-開啟v2ray映像檔"><a href="#server-開啟v2ray映像檔" class="headerlink" title="[server] 開啟v2ray映像檔"></a>[server] 開啟v2ray映像檔</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name v2ray --cap-add=NET_ADMIN --restart=always -p 9487:9487/tcp  -v /etc/v2ray:/etc/v2ray -v /var/log/v2ray:/var/log/v2ray v2fly/v2fly-core</span><br></pre></td></tr></table></figure><p><code>檢查一下</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure><h2 id="Client-下載v2ray並設定好通道"><a href="#Client-下載v2ray並設定好通道" class="headerlink" title="[Client] 下載v2ray並設定好通道"></a>[Client] 下載v2ray並設定好通道</h2><p><a href="https://github.com/v2ray/v2ray-core/releases" target="_blank" rel="noopener">下載點</a></p><p><code>它長這樣子，我覺得很醜</code></p><p><img src="https://i.loli.net/2020/05/03/1leUmtcLkwXKD9q.png" alt></p><p><code>打開之後，會運行在Mac的上方工作列，接進入設定</code></p><p><img src="https://i.imgur.com/rywISPi.png" alt></p><p><code>跟著圖片設定，完成後點擊右下角OK</code></p><p><img src="https://i.loli.net/2020/05/03/EwlYLp76ODAHJsu.png" alt></p><ol><li>伺服器IP位置</li><li>連接埠號</li><li>一開始建立的UDID</li><li>輸入1</li><li>給一個你自己看得懂的名字</li></ol><p><code>點擊載入</code></p><p><img src="https://i.loli.net/2020/05/03/cX8aWi2kE6nsxZI.png" alt></p><h2 id="查看IP位置，確定是否已經跳轉"><a href="#查看IP位置，確定是否已經跳轉" class="headerlink" title="查看IP位置，確定是否已經跳轉"></a>查看IP位置，確定是否已經跳轉</h2><p><a href="https://www.iplocation.net/" target="_blank" rel="noopener">查看</a></p><h2 id="特別感謝"><a href="#特別感謝" class="headerlink" title="特別感謝"></a>特別感謝</h2><p><a href="https://hiraku.tw/2020/03/6093/" target="_blank" rel="noopener">皮樂姊真的有夠正</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;起因&quot;&gt;&lt;a href=&quot;#起因&quot; class=&quot;headerlink&quot; title=&quot;起因&quot;&gt;&lt;/a&gt;起因&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;我們公司不知道為什麼阻擋了我使用系統的vpn連線&lt;/li&gt;
&lt;li&gt;電信商LTE都是走IPV6 ，而&lt;a href=&quot;https
      
    
    </summary>
    
    
      <category term="Server" scheme="https://ios.league2eb.me/categories/Server/"/>
    
    
      <category term="oracle" scheme="https://ios.league2eb.me/tags/oracle/"/>
    
  </entry>
  
  <entry>
    <title>一次移除本地垃圾分支</title>
    <link href="https://ios.league2eb.me/posts/352ce7b8/"/>
    <id>https://ios.league2eb.me/posts/352ce7b8/</id>
    <published>2020-04-29T03:17:26.000Z</published>
    <updated>2020-06-04T10:22:39.581Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch | grep -v <span class="string">"develop"</span> | xargs git branch -D</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span clas
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>製作VPN的描述檔</title>
    <link href="https://ios.league2eb.me/posts/5f22c5f9/"/>
    <id>https://ios.league2eb.me/posts/5f22c5f9/</id>
    <published>2020-04-28T09:24:09.000Z</published>
    <updated>2020-06-04T10:22:39.585Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>需要VPN有很多種理由</p><ol><li>做點壞事(?)</li><li>看其他國家的Netflix</li><li>就是想用免費流量的國外IP來訪問所有網路內容</li></ol><hr><h2 id="本篇注意事項"><a href="#本篇注意事項" class="headerlink" title="本篇注意事項"></a>本篇注意事項</h2><ol><li>標題有[Server] 表示指令在伺服器裡頭執行</li><li>標題有[Local] 表示該指令在當前的電腦裡頭的終端機執行</li><li>標題有[Web] 表示這個動作會在Oracle的Dashboard操作</li></ol><h2 id="Local-SSH連線到你已經戳到的Oracle-Serve"><a href="#Local-SSH連線到你已經戳到的Oracle-Serve" class="headerlink" title="[Local] SSH連線到你已經戳到的Oracle Serve"></a>[Local] SSH連線到你已經戳到的Oracle Serve</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -i id_rsa ubuntu@你的Oracle伺服器IP</span><br></pre></td></tr></table></figure><h2 id="Local-同意連線，輸入yes並點按下enter"><a href="#Local-同意連線，輸入yes並點按下enter" class="headerlink" title="[Local] 同意連線，輸入yes並點按下enter"></a>[Local] 同意連線，輸入yes並點按下enter</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Warning: Identity file id_rsa not accessible: No such file or directory.</span><br><span class="line">The authenticity of host <span class="string">'127.0.0.1 (127.0.0.1)'</span> can<span class="string">'t be established.</span></span><br><span class="line"><span class="string">ECDSA key fingerprint is SHA256:UhUdslpLpVGkuwdT6VodmB3L4LkjStjXrxydr9b9NMs.</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no/[fingerprint])?</span></span><br></pre></td></tr></table></figure><p><strong>這是成功連線畫面</strong></p><p><fancybox><img src="https://i.imgur.com/L0zexWg.png" alt></fancybox></p><h2 id="Server-進入Root權限模式"><a href="#Server-進入Root權限模式" class="headerlink" title="[Server] 進入Root權限模式"></a>[Server] 進入Root權限模式</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo su</span><br></pre></td></tr></table></figure><h2 id="Server-修改密碼"><a href="#Server-修改密碼" class="headerlink" title="[Server] 修改密碼"></a>[Server] 修改密碼</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></table></figure><p><strong>輸入的時候不會顯示密碼</strong></p><p><fancybox><img src="https://i.imgur.com/O5MN6tK.png" alt></fancybox></p><h2 id="Server-修改authorized-keys內容"><a href="#Server-修改authorized-keys內容" class="headerlink" title="[Server] 修改authorized_keys內容"></a>[Server] 修改authorized_keys內容</h2><p><code>編輯authorized_keys</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~ &amp;&amp;  vi ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure><p><code>瘋狂按鍵盤上的d直到內容空白</code></p><p><code>點擊鍵盤上的「i」進入編輯模式，左下角應該會出現insert</code></p><p><fancybox><img src="https://i.imgur.com/iRU3rC2.png" alt></fancybox></p><h2 id="再開一個終端機，一個畫面是Server一個畫面是Local"><a href="#再開一個終端機，一個畫面是Server一個畫面是Local" class="headerlink" title="再開一個終端機，一個畫面是Server一個畫面是Local"></a>再開一個終端機，一個畫面是Server一個畫面是Local</h2><h2 id="Local-回到電腦的終端機尋找id-rsa-pub裡頭的鑰匙並複製起來"><a href="#Local-回到電腦的終端機尋找id-rsa-pub裡頭的鑰匙並複製起來" class="headerlink" title="[Local] 回到電腦的終端機尋找id_rsa.pub裡頭的鑰匙並複製起來"></a>[Local] 回到電腦的終端機尋找id_rsa.pub裡頭的鑰匙並複製起來</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">less ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure><h2 id="Server-把剛剛複製的Key貼到進入編輯模式的authorized-keys底下"><a href="#Server-把剛剛複製的Key貼到進入編輯模式的authorized-keys底下" class="headerlink" title="[Server] 把剛剛複製的Key貼到進入編輯模式的authorized_keys底下"></a>[Server] 把剛剛複製的Key貼到進入編輯模式的authorized_keys底下</h2><p><fancybox><img src="https://i.imgur.com/0Q7nZTF.png" alt></fancybox></p><p><code>完成後先按一下鍵盤的ESC，然後下指令</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:wq</span><br></pre></td></tr></table></figure><p>然後Enter<br><strong>這裡的作法是為了讓你本機電腦可以直接進入root的權限模式</strong></p><h2 id="Web-開防火牆"><a href="#Web-開防火牆" class="headerlink" title="[Web] 開防火牆"></a>[Web] 開防火牆</h2><ul><li>80Port = 只是為了測試使用，不爽開可以略過</li><li>443Port = 未來如果有使用SSL，這裡就一起開吧</li></ul><p><code>運算</code> -&gt; <code>執行處理</code></p><p><fancybox><img src="https://i.loli.net/2020/04/28/PzxeKYZRTQB4bfd.png" alt></fancybox></p><p><code>點擊你的機器</code></p><p><fancybox><img src="https://i.imgur.com/TXCgeqJ.png" alt></fancybox></p><p><code>點擊公用子網路</code></p><p><fancybox><img src="https://i.imgur.com/7sKtPYN.png" alt></fancybox></p><p><code>點擊安全清單下的安全資訊</code></p><p><fancybox><img src="https://i.imgur.com/r5H8txf.png" alt></fancybox></p><p><code>點擊新增傳入規則按鈕，並新增三組，仔細看下面圖片</code></p><p><fancybox><img src="https://i.imgur.com/QVHqxxx.png" alt></fancybox></p><p><code>新增80Port</code></p><p><fancybox><img src="https://i.imgur.com/WhO3cXJ.png" alt></fancybox></p><p><code>新增4500Port</code></p><p><fancybox><img src="https://i.imgur.com/KDU3Ss0.png" alt></fancybox></p><p><code>新增500Port</code></p><p><fancybox><img src="https://i.imgur.com/motwTKy.png" alt></fancybox></p><h2 id="Server-移除-iptables、安裝ufw"><a href="#Server-移除-iptables、安裝ufw" class="headerlink" title="[Server] 移除 iptables、安裝ufw"></a>[Server] 移除 iptables、安裝ufw</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt remove iptables</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install ufw</span><br></pre></td></tr></table></figure><h2 id="Server-使用ufw允許22、500、4500、80、443port，並且打開防火牆"><a href="#Server-使用ufw允許22、500、4500、80、443port，並且打開防火牆" class="headerlink" title="[Server] 使用ufw允許22、500、4500、80、443port，並且打開防火牆"></a>[Server] 使用ufw允許22、500、4500、80、443port，並且打開防火牆</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ufw allow 22</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ufw allow 500</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ufw allow 4500</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ufw allow 80</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ufw allow 443</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ufw <span class="built_in">enable</span></span><br></pre></td></tr></table></figure><h2 id="Server-順手安裝nginx，然後重新啟動機器-重要"><a href="#Server-順手安裝nginx，然後重新啟動機器-重要" class="headerlink" title="[Server] 順手安裝nginx，然後重新啟動機器(重要)"></a>[Server] 順手安裝nginx，然後重新啟動機器(重要)</h2><p><strong>若沒有先安裝nginx，機器內則沒有listen 80 的程式，在local端測試時會變成closed</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install nginx</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure><h2 id="Local-嘗試戳一下你的Server的80port"><a href="#Local-嘗試戳一下你的Server的80port" class="headerlink" title="[Local] 嘗試戳一下你的Server的80port"></a>[Local] 嘗試戳一下你的Server的80port</h2><p><strong>STATE應該要是open，若按照上述流程但仍然是closed表示沒有program listen 80 port</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -v -Pn -p 80 你的伺服器IP</span><br></pre></td></tr></table></figure><h2 id="Server-檢查ufw是不是沒被關掉，沒被關掉就是成功了"><a href="#Server-檢查ufw是不是沒被關掉，沒被關掉就是成功了" class="headerlink" title="[Server]  檢查ufw是不是沒被關掉，沒被關掉就是成功了"></a>[Server]  檢查ufw是不是沒被關掉，沒被關掉就是成功了</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ufw status numbered</span><br></pre></td></tr></table></figure><h2 id="Server-安裝Docker"><a href="#Server-安裝Docker" class="headerlink" title="[Server] 安裝Docker"></a>[Server] 安裝Docker</h2><p><code>更新一下</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br></pre></td></tr></table></figure><p><code>安裝</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install docker.io</span><br></pre></td></tr></table></figure><p><code>啟動</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start docker</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> docker</span><br></pre></td></tr></table></figure><h2 id="Server-建立vpn設定檔案"><a href="#Server-建立vpn設定檔案" class="headerlink" title="[Server] 建立vpn設定檔案"></a>[Server] 建立vpn設定檔案</h2><p><strong>先複習一下vi</strong></p><ul><li>鍵入 i 進入編輯模式</li><li>esc退出編輯模式</li><li>:wq儲存該次編輯 (w前面有一個:)</li><li>:q!取消該次編輯</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi ~/strongswan.conf</span><br></pre></td></tr></table></figure><ul><li>把下面的內容貼到 strongswan.conf</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">charon &#123;</span><br><span class="line">  load_modular = yes</span><br><span class="line">  plugins &#123;</span><br><span class="line">    include strongswan.d/charon/*.conf</span><br><span class="line">    attr &#123;</span><br><span class="line">    dns = 1.1.1.2, 8.8.8.8</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">include strongswan.d/*.conf</span><br></pre></td></tr></table></figure><h2 id="Server-利用Docker跑一個-vpn-Service"><a href="#Server-利用Docker跑一個-vpn-Service" class="headerlink" title="[Server] 利用Docker跑一個 vpn Service"></a>[Server] 利用Docker跑一個 vpn Service</h2><ul><li>查詢本機IP，方便複製</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl ifconfig.me</span><br></pre></td></tr></table></figure><ul><li>查詢本機hostname，一樣複製用</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hostname</span><br></pre></td></tr></table></figure><ul><li>替換下面的HOST、HOSTNAME欄位並且跑起來</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker run --<span class="built_in">cap</span>-add=NET_ADMIN -d --name vpn-server --restart=always \</span><br><span class="line">-p 500:500/udp -p 4500:4500/udp \</span><br><span class="line">-v ~/strongswan.conf:/etc/strongswan.conf \</span><br><span class="line">-e <span class="string">"HOST=127.0.0.1"</span> -e <span class="string">"HOSTNAME=name"</span> \</span><br><span class="line">billimek/ikev2-vpn-server</span><br></pre></td></tr></table></figure><h2 id="Server-最後一步，製作MacOS、iPhone可直接使用的描述檔案"><a href="#Server-最後一步，製作MacOS、iPhone可直接使用的描述檔案" class="headerlink" title="[Server] 最後一步，製作MacOS、iPhone可直接使用的描述檔案"></a>[Server] 最後一步，製作MacOS、iPhone可直接使用的描述檔案</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it vpn-server generate-mobileconfig &gt; ikev2-vpn.mobileconfig</span><br></pre></td></tr></table></figure><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p><a href="https://ios.league2eb.me/posts/e02a3e3e/">很簡單，看了就會</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;需要VPN有很多種理由&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;做點壞事(?)&lt;/li&gt;
&lt;li&gt;看其他國家的Netflix&lt;/li&gt;
&lt;li&gt;就是想用免
      
    
    </summary>
    
    
      <category term="Server" scheme="https://ios.league2eb.me/categories/Server/"/>
    
    
      <category term="oracle" scheme="https://ios.league2eb.me/tags/oracle/"/>
    
  </entry>
  
  <entry>
    <title>申請每月10T流量的免費伺服器</title>
    <link href="https://ios.league2eb.me/posts/af9bcccd/"/>
    <id>https://ios.league2eb.me/posts/af9bcccd/</id>
    <published>2020-04-28T05:05:42.000Z</published>
    <updated>2020-06-04T10:22:39.584Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p><strong>學習開發初期</strong>使用了老師推薦的AWS EC2<br>對於當時我的來說<strong>一年免費</strong>是一件見非常棒的事情<br>只不過對於一年就得申請一個新帳號搬一次家來說，很不方便<br>如果真的很窮，又蕭貪<br>你可以好好看這整篇教學，我盡量的不要有遺漏任何的細節<br>所以高手們若看到此篇也請不要雞雞歪歪在那邊說 <strong>「阿這麼簡單也要講」</strong></p><p><strong>不論對象的無私奉獻將會讓你感到富有</strong></p><h2 id="甲骨文帳號申請"><a href="#甲骨文帳號申請" class="headerlink" title="甲骨文帳號申請"></a>甲骨文帳號申請</h2><p><strong>甲骨文已經開放該免費伺服器有段時間</strong><br>若您已經有帳號，可以直接前往下一段</p><p><a href="https://tinyurl.com/ybrwvfgp" target="_blank" rel="noopener">Oracle Cloud 官方網站</a><br>若失效請 <a href="https://www.google.com/search?client=safari&rls=en&ei=ZsenXqrwJ4XqmAWxhzM&q=oraclecloud&oq=oraclecloud&gs_lcp=CgZwc3ktYWIQDFAAWABgsBdoAHAAeACAAQCIAQCSAQCYAQCqAQdnd3Mtd2l6&sclient=psy-ab&ved=0ahUKEwiqu_jSuYrpAhUFNaYKHbHDDAAQ4dUDCAs" target="_blank" rel="noopener">點這裡</a></p><h3 id="點擊開始免費試用"><a href="#點擊開始免費試用" class="headerlink" title="點擊開始免費試用"></a>點擊開始免費試用</h3><p><fancybox><img src="https://i.loli.net/2020/04/28/oafRWpSPDmgY3b1.png" alt></fancybox></p><h3 id="選擇區域"><a href="#選擇區域" class="headerlink" title="選擇區域"></a>選擇區域</h3><pre><code>- 這裡不用特別注意是選擇哪個區域，我的話選擇台灣，選擇完畢後點擊Next</code></pre><p><fancybox><img src="https://i.loli.net/2020/04/28/hR9c8oxWuqmENij.png" alt></fancybox></p><ul><li>帳號預設為個人，我沒有特別選擇</li><li>帳號名稱就取個自己的好記的就行</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">注意，HomeRegion要選擇後面有免費區域的，例如韓國</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">這邊的選擇非常重要，手別抖</span><br></pre></td></tr></table></figure><p><fancybox><img src="https://i.loli.net/2020/04/28/KZOsfiXN73JD4TG.png" alt></fancybox><br><fancybox><img src="https://i.loli.net/2020/04/28/RbaJZtpzi15qx4w.png" alt></fancybox></p><h3 id="填寫帳號資訊"><a href="#填寫帳號資訊" class="headerlink" title="填寫帳號資訊"></a>填寫帳號資訊</h3><pre><code>- 唯一要注意的地方是手機號碼，一定要可以接簡訊驗證- 但是，甲骨文業務也可能會時不時打給你推銷？(聽某前輩說的)</code></pre><p><fancybox><img src="https://i.loli.net/2020/04/28/pt1UkZncrgqJ2eE.png" alt></fancybox></p><h3 id="輸入驗證號碼"><a href="#輸入驗證號碼" class="headerlink" title="輸入驗證號碼"></a>輸入驗證號碼</h3><p><fancybox><img src="https://i.loli.net/2020/04/28/cMz2KPH6mpad5yf.png" alt></fancybox></p><h3 id="加入信用卡，作為驗證使用"><a href="#加入信用卡，作為驗證使用" class="headerlink" title="加入信用卡，作為驗證使用"></a>加入信用卡，作為驗證使用</h3><pre><code>- 會扣個零錢來當做驗證使用- 除非你升級帳戶等級，不然不用擔心收費問題</code></pre><p><fancybox><img src="https://i.loli.net/2020/04/28/EGoMrB5h2LbOmny.png" alt></fancybox></p><h3 id="點擊完成註冊"><a href="#點擊完成註冊" class="headerlink" title="點擊完成註冊"></a>點擊完成註冊</h3><p><fancybox><img src="https://i.loli.net/2020/04/28/alypc1ebgXi6Mn9.png" alt></fancybox></p><h6 id="以上就是整個註冊帳號的過程，還算簡單"><a href="#以上就是整個註冊帳號的過程，還算簡單" class="headerlink" title="以上就是整個註冊帳號的過程，還算簡單"></a>以上就是整個註冊帳號的過程，還算簡單</h6><h2 id="啟動一台虛擬機器"><a href="#啟動一台虛擬機器" class="headerlink" title="啟動一台虛擬機器"></a>啟動一台虛擬機器</h2><h3 id="點擊左上角漢堡按鈕來新增一台機器"><a href="#點擊左上角漢堡按鈕來新增一台機器" class="headerlink" title="點擊左上角漢堡按鈕來新增一台機器"></a>點擊左上角漢堡按鈕來新增一台機器</h3><pre><code>- 運算 -&gt; 執行處理</code></pre><p><fancybox><img src="https://i.loli.net/2020/04/28/PzxeKYZRTQB4bfd.png" alt></fancybox></p><h3 id="點擊執行處理按鈕"><a href="#點擊執行處理按鈕" class="headerlink" title="點擊執行處理按鈕"></a>點擊執行處理按鈕</h3><p><fancybox><img src="https://i.loli.net/2020/04/28/UAYp9ezOcEBNiVK.png" alt></fancybox></p><h3 id="變更映像檔，並選擇Ubuntu-20-04"><a href="#變更映像檔，並選擇Ubuntu-20-04" class="headerlink" title="變更映像檔，並選擇Ubuntu 20.04"></a>變更映像檔，並選擇Ubuntu 20.04</h3><p><strong>這個步驟不一定要使用這裡推薦的Ubuntu</strong><br><strong>只要是免費都可以</strong><br><strong>如果錢很多，送我</strong></p><p><fancybox><img src="https://i.loli.net/2020/04/28/voAWmEzOKUd21D5.png" alt></fancybox><br><fancybox><img src="https://i.loli.net/2020/04/28/tBARv3UiLNqY1wX.png" alt></fancybox></p><h3 id="貼上Mac電腦的鑰匙"><a href="#貼上Mac電腦的鑰匙" class="headerlink" title="貼上Mac電腦的鑰匙"></a>貼上Mac電腦的鑰匙</h3><p><a href="https://tinyurl.com/y6uxj6n9" target="_blank" rel="noopener">鑰匙製作</a></p><p><fancybox><img src="https://i.loli.net/2020/04/28/9DSbupkc4Jdhvxm.png" alt></fancybox></p><h3 id="往下捲動頁面並點擊建立"><a href="#往下捲動頁面並點擊建立" class="headerlink" title="往下捲動頁面並點擊建立"></a>往下捲動頁面並點擊建立</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">會發現根本無法建立，因為免費限量的</span><br></pre></td></tr></table></figure><p><fancybox><img src="https://i.loli.net/2020/04/28/icSJBVbav5PnQ9O.png" alt></fancybox></p><h3 id="在這個建立機器的頁面點擊右鍵並選擇「檢查」"><a href="#在這個建立機器的頁面點擊右鍵並選擇「檢查」" class="headerlink" title="在這個建立機器的頁面點擊右鍵並選擇「檢查」"></a>在這個建立機器的頁面點擊右鍵並選擇「檢查」</h3><p><fancybox><img src="https://i.loli.net/2020/04/28/ZgYwrvQNCXVakM9.png" alt></fancybox></p><h3 id="選擇Network標籤並再次點擊「建立」"><a href="#選擇Network標籤並再次點擊「建立」" class="headerlink" title="選擇Network標籤並再次點擊「建立」"></a>選擇Network標籤並再次點擊「建立」</h3><p><fancybox><img src="https://i.loli.net/2020/04/28/9lMrtOPWwZQbSmy.png" alt></fancybox></p><h3 id="搜尋框輸入instances並點擊左側項目，點擊後在將右側欄位選到「Headers」"><a href="#搜尋框輸入instances並點擊左側項目，點擊後在將右側欄位選到「Headers」" class="headerlink" title="搜尋框輸入instances並點擊左側項目，點擊後在將右側欄位選到「Headers」"></a>搜尋框輸入instances並點擊左側項目，點擊後在將右側欄位選到「Headers」</h3><p><fancybox><img src="https://i.loli.net/2020/04/28/bf2iNjlzKUDdyCI.png" alt></fancybox></p><h3 id="找到「Request-Payload」"><a href="#找到「Request-Payload」" class="headerlink" title="找到「Request Payload」"></a>找到「Request Payload」</h3><p><fancybox><img src="https://i.loli.net/2020/04/28/FWfqCujxaeo7BYT.png" alt></fancybox></p><h3 id="用記事本、SublimeText把我列出來的欄位暫時記錄，等等會用"><a href="#用記事本、SublimeText把我列出來的欄位暫時記錄，等等會用" class="headerlink" title="用記事本、SublimeText把我列出來的欄位暫時記錄，等等會用"></a>用記事本、SublimeText把我列出來的欄位暫時記錄，等等會用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">availabilityDomain = dAKB:AP-SEOUL-1-AD-1</span><br><span class="line">compartmentId = ocid1.tenancy.oc1.. y28gNGS9qry8cybaF9dGXGWcaThRurPm</span><br><span class="line">subnetId = ocid1.subnet.oc1.ap-seoul-1. V49dCAUY6gkSB9SXAx4tTTBkZ8G8hv3Y</span><br><span class="line">shape = VM.Standard.E2.1.Micro</span><br><span class="line">ssh_authorized_keys = ...</span><br><span class="line">imageId = ocid1.image.oc1.ap-seoul-1. Hv8NtHAXvSyXhqWheSmAV3EpMCUGvWD4</span><br></pre></td></tr></table></figure><h3 id="取得-User-OCID，一樣記錄下來等等會用到"><a href="#取得-User-OCID，一樣記錄下來等等會用到" class="headerlink" title="取得 User OCID，一樣記錄下來等等會用到"></a>取得 User OCID，一樣記錄下來等等會用到</h3><p><fancybox><img src="https://i.loli.net/2020/04/28/8QwucpYA9Wtl2k6.png" alt></fancybox></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User OCID = ocid1.user.oc1.. r33UG24QdSRaQ8B3guWxVCNYKrsCcUQf</span><br></pre></td></tr></table></figure><h3 id="獲取Tenancy-OCID-，一樣記錄下來等等會用到"><a href="#獲取Tenancy-OCID-，一樣記錄下來等等會用到" class="headerlink" title="獲取Tenancy OCID ，一樣記錄下來等等會用到"></a>獲取Tenancy OCID ，一樣記錄下來等等會用到</h3><p><fancybox><img src="https://i.loli.net/2020/04/28/XkExyolrNqQnAsh.png" alt></fancybox></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Tenancy_OCID = ocid1.tenancy.oc1.. fYZrqb7gqyYeMKNBfmrVSfdXsXERNrYB</span><br></pre></td></tr></table></figure><h3 id="打開終端機，並安裝oci命令管理工具"><a href="#打開終端機，並安裝oci命令管理工具" class="headerlink" title="打開終端機，並安裝oci命令管理工具"></a>打開終端機，並安裝oci命令管理工具</h3><ul><li>直接貼在終端機後按下Enter，中間會詢問你很多問題，都直接Enter就可</li><li>這邊可能要有sudo權限</li><li>會有幾個問題問你Y/n ，輸入Y後按下Enter</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo bash -c <span class="string">"<span class="variable">$(curl –L https://raw.githubusercontent.com/oracle/oci-cli/master/scripts/install/install.sh)</span>"</span></span><br></pre></td></tr></table></figure><h3 id="在終端機裡頭確認是否安裝成功"><a href="#在終端機裡頭確認是否安裝成功" class="headerlink" title="在終端機裡頭確認是否安裝成功"></a>在終端機裡頭確認是否安裝成功</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">~/bin/oci -v</span><br><span class="line">2.10.0</span><br></pre></td></tr></table></figure><h3 id="在終端機裡頭設定帳號訊息、請求鑰匙"><a href="#在終端機裡頭設定帳號訊息、請求鑰匙" class="headerlink" title="在終端機裡頭設定帳號訊息、請求鑰匙"></a>在終端機裡頭設定帳號訊息、請求鑰匙</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~/bin/oci setup config</span><br></pre></td></tr></table></figure><p>第一個問題直接按下Enter</p><p><code>Enter a location for your config [/Users/xxx/.oci/config]:</code></p><p>第二個問題請把剛剛記錄下來的User OCID給複製貼上後按下Enter</p><p><code>Enter a user OCID:</code></p><p>第三個問題請把剛剛記錄下來的Tenancy OCID給複製貼上後按下Enter</p><p><code>Enter a user OCID:</code></p><p>第四個問題請到<a href="https://docs.cloud.oracle.com/ja-jp/iaas/Content/General/Concepts/regions.htm" target="_blank" rel="noopener">這裡</a>查詢後輸入<br>舉例韓國：ap-seoul-1</p><p><code>Enter a region</code></p><p>後續的問題請直接點擊Enter或者輸入Y即可</p><p><strong>其中會有一個問題是請您設定伺服器證書的密碼，可以不要設定</strong></p><h3 id="設定完成畫面"><a href="#設定完成畫面" class="headerlink" title="設定完成畫面"></a>設定完成畫面</h3><p><fancybox><img src="https://i.loli.net/2020/04/28/YmtKbAMlwWVko16.png" alt></fancybox></p><h3 id="把鑰匙上傳到個人設定頁面中"><a href="#把鑰匙上傳到個人設定頁面中" class="headerlink" title="把鑰匙上傳到個人設定頁面中"></a>把鑰匙上傳到個人設定頁面中</h3><p><strong>鑰匙路徑，再說一次，這裡的xxx是你的使用者名稱1</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~/.oci/oci_api_key_public.pem</span><br></pre></td></tr></table></figure><p><fancybox><img src="https://i.loli.net/2020/04/28/2FoCN3cZ9uMbrIq.png" alt></fancybox></p><h3 id="終端機內查看金鑰是否可以成功Work"><a href="#終端機內查看金鑰是否可以成功Work" class="headerlink" title="終端機內查看金鑰是否可以成功Work"></a>終端機內查看金鑰是否可以成功Work</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~/bin/oci iam availability-domain list</span><br></pre></td></tr></table></figure><h3 id="在終端機先測試一次看看是否戳到"><a href="#在終端機先測試一次看看是否戳到" class="headerlink" title="在終端機先測試一次看看是否戳到"></a>在終端機先測試一次看看是否戳到</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~/bin/oci compute instance launch --availability-domain &lt;your_ availabilityDomain&gt; --image-id &lt;your_imageid&gt; --subnet-id &lt;your_subnetid&gt;  --shape VM.Standard.E2.1.Micro --assign-public-ip true --metadata &apos;&#123;&quot;ssh_authorized_keys&quot;: &quot;ssh-rsa your_ssh_key&quot;&#125;&apos; --compartment-id &lt;your_compartmentid&gt;</span><br></pre></td></tr></table></figure><p>下面是Response，若看到這段就表示戳api這個行為是成功的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ServiceError:</span><br><span class="line">&#123;</span><br><span class="line">    &quot;code&quot;: &quot;InternalError&quot;,</span><br><span class="line">    &quot;message&quot;: &quot;Out of host capacity.&quot;,</span><br><span class="line">    &quot;opc-request-id&quot;: &quot;xxxx----&quot;,</span><br><span class="line">    &quot;status&quot;: 500</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="在終端機內間隔30秒戳一次api來搶伺服器空間"><a href="#在終端機內間隔30秒戳一次api來搶伺服器空間" class="headerlink" title="在終端機內間隔30秒戳一次api來搶伺服器空間"></a>在終端機內間隔30秒戳一次api來搶伺服器空間</h3><p><strong>這裡面包含了很多剛剛暫時記下來的Request Payload</strong><br><strong>請務必仔細更換</strong><br><strong>建議先把下面的指令貼到記事本，一個一個修改</strong><br><strong>注意&lt;&gt;不要帶入，這裡只是提示要在這裡替換</strong><br><strong>除非你一直盯著終端機看，不然大部分看到的時間都是回應500</strong><br><strong>你得定期回去甲骨文的Dashboard查看</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">while true; do ~/bin/oci compute instance launch --availability-domain &lt;your_ availabilityDomain&gt; --image-id &lt;your_imageid&gt; --subnet-id &lt;your_subnetid&gt;  --shape VM.Standard.E2.1.Micro --assign-public-ip true --metadata &apos;&#123;&quot;ssh_authorized_keys&quot;: &quot;ssh-rsa your_ssh_key&quot;&#125;&apos; --compartment-id &lt;your_compartmentid&gt; ;date; sleep 30; done</span><br></pre></td></tr></table></figure><h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p><strong>基本上</strong>GUI操作來開啟虛擬機的方式，幾乎可以說開不了<br>因為早就被搶光了，所以這裡使用的方法就是利用API的方式「建立虛擬機」！</p><h2 id="扣錢"><a href="#扣錢" class="headerlink" title="扣錢"></a>扣錢</h2><p>基本上註冊的時候甲骨文有送400SGD<br>請定期回來看一下是否有減少，若有<br>表示設定錯誤！</p><h2 id="下一步，設定vpn"><a href="#下一步，設定vpn" class="headerlink" title="下一步，設定vpn"></a>下一步，設定vpn</h2><p><a href="https://ios.league2eb.me/posts/5f22c5f9/">這個步驟難度稍高，請詳細閱讀</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;學習開發初期&lt;/strong&gt;使用了老師推薦的AWS EC2&lt;br&gt;對於當時我的來說&lt;strong&gt;一年免費&lt;/strong
      
    
    </summary>
    
    
      <category term="Server" scheme="https://ios.league2eb.me/categories/Server/"/>
    
    
      <category term="oracle" scheme="https://ios.league2eb.me/tags/oracle/"/>
    
  </entry>
  
  <entry>
    <title>mac上VPN描述檔案安裝方法</title>
    <link href="https://ios.league2eb.me/posts/e02a3e3e/"/>
    <id>https://ios.league2eb.me/posts/e02a3e3e/</id>
    <published>2020-04-27T11:07:54.000Z</published>
    <updated>2020-06-04T10:22:39.581Z</updated>
    
    <content type="html"><![CDATA[<h2 id="有時候會需要把當前的網路跳離台灣來做點事情"><a href="#有時候會需要把當前的網路跳離台灣來做點事情" class="headerlink" title="有時候會需要把當前的網路跳離台灣來做點事情"></a>有時候會需要把當前的網路跳離台灣來做點事情</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">做點壞事</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">看台灣沒有的影片</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">沒有，我就是不想要我的當前網路環境在台灣</span><br></pre></td></tr></table></figure><p>以上都可以是理由</p><h2 id="開一台10T-月-流量的伺服器，並且不花半毛錢"><a href="#開一台10T-月-流量的伺服器，並且不花半毛錢" class="headerlink" title="開一台10T/月 流量的伺服器，並且不花半毛錢"></a>開一台10T/月 流量的伺服器，並且不花半毛錢</h2><p><a href="https://ios.league2eb.me/posts/af9bcccd/">帳號申請，難度不算高</a></p><h2 id="製作VPN的描述檔"><a href="#製作VPN的描述檔" class="headerlink" title="製作VPN的描述檔"></a>製作VPN的描述檔</h2><p><a href="https://ios.league2eb.me/posts/5f22c5f9/">此篇有一定技術門檻與理解能力，請謹慎閱讀</a></p><h2 id="跳過前兩步驟跟我拿取描述檔，親朋好友適用"><a href="#跳過前兩步驟跟我拿取描述檔，親朋好友適用" class="headerlink" title="跳過前兩步驟跟我拿取描述檔，親朋好友適用"></a>跳過前兩步驟跟我拿取描述檔，親朋好友適用</h2><p>有幾個管道</p><ol><li>臉書</li><li>Line</li><li>面交</li></ol><h2 id="安裝"><a href="#安裝" class="headerlink" title="安裝"></a>安裝</h2><ul><li>點擊兩下打開描述檔</li></ul><p><fancybox><img src="https://i.imgur.com/Yyz9l6O.png" alt></fancybox></p><ul><li>詢問是否安裝，點擊繼續</li></ul><p><fancybox><img src="https://i.imgur.com/pvBfMQt.png" alt></fancybox></p><ul><li>會有個警告，跟你說這描述檔案沒有說誰製作的，是不是真的要安裝，點擊繼續</li></ul><p><fancybox><img src="https://i.imgur.com/hrpula5.png" alt></fancybox></p><ul><li>使用者名稱、密碼全部不用輸入直接點擊右下角安裝</li></ul><p><strong>點擊安裝後會詢問電腦密碼，輸入</strong><br><strong>安裝完畢後會自動連上VPN</strong></p><p><fancybox><img src="https://i.imgur.com/cZnEIZP.png" alt></fancybox></p><ul><li>打開設定，並點擊「網路」</li></ul><p><fancybox><img src="https://i.imgur.com/C0rInGy.png" alt></fancybox></p><ul><li>選擇VPN並且把「按要求連線給取消選擇」</li></ul><p><fancybox><img src="https://i.imgur.com/3egWlni.png" alt></fancybox></p><ul><li>點擊右下角套用後，再點擊連線</li><li>這邊建議勾選「在選單列中顯示VPN狀態」，這樣可以快速關閉、打開</li></ul><p><fancybox><img src="https://i.imgur.com/8JGzcLP.png" alt></fancybox></p><h2 id><a href="#" class="headerlink" title></a></h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;有時候會需要把當前的網路跳離台灣來做點事情&quot;&gt;&lt;a href=&quot;#有時候會需要把當前的網路跳離台灣來做點事情&quot; class=&quot;headerlink&quot; title=&quot;有時候會需要把當前的網路跳離台灣來做點事情&quot;&gt;&lt;/a&gt;有時候會需要把當前的網路跳離台灣來做點事情&lt;/
      
    
    </summary>
    
    
      <category term="Server" scheme="https://ios.league2eb.me/categories/Server/"/>
    
    
      <category term="VPN" scheme="https://ios.league2eb.me/tags/VPN/"/>
    
  </entry>
  
  <entry>
    <title>TweakDylib與ipa合併流程</title>
    <link href="https://ios.league2eb.me/posts/337c9b10/"/>
    <id>https://ios.league2eb.me/posts/337c9b10/</id>
    <published>2020-04-07T18:38:16.000Z</published>
    <updated>2020-06-04T10:22:39.580Z</updated>
    
    <content type="html"><![CDATA[<p><strong>本篇僅供學術使用</strong></p><p><strong>閱讀對象：不想要手機越獄，但又想要安裝帶有Tweak功能的應用</strong></p><h2 id="具備條件"><a href="#具備條件" class="headerlink" title="具備條件"></a>具備條件</h2><ul><li>一台Mac(PC我不熟🌚)</li><li>一台iOS設備，並且已經越獄</li><li>已經安裝<a href="https://apps.apple.com/app/xcode/id497799835?mt=12" target="_blank" rel="noopener">Xcode</a>，因為會使用到<code>otool</code>、<code>install_name_tool</code>指令</li><li>看過<a href="https://ios.league2eb.me/posts/26217a84/">這篇</a>文章，知道怎麼ssh連線到你的越獄設備</li><li>下載<a href="https://tinyurl.com/yx7jpqe2" target="_blank" rel="noopener">libsubstrate.dylib</a>先放在桌面</li><li>下載<a href="https://tinyurl.com/uvclcc8" target="_blank" rel="noopener">optool</a>，放到<code>/usr/local/bin</code></li></ul><p><strong>針對optool在終端機下指令，權限不夠無法執行</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x optool</span><br></pre></td></tr></table></figure><h2 id="找一個別人寫好的deb，這邊用Facebook的Messenger作為例子"><a href="#找一個別人寫好的deb，這邊用Facebook的Messenger作為例子" class="headerlink" title="找一個別人寫好的deb，這邊用Facebook的Messenger作為例子"></a>找一個別人寫好的deb，這邊用Facebook的Messenger作為例子</h2><p>沒有使用之前，有一則廣告</p><p><fancybox><img src="https://i.loli.net/2020/04/09/SUaIBXlqrbRmno2.png" alt></fancybox></p><p>Tweak生效後，廣告消失了</p><p><fancybox><img src="https://i.loli.net/2020/04/09/lx6awbVet8GjJBW.png" alt></fancybox></p><h2 id="Cydia安裝"><a href="#Cydia安裝" class="headerlink" title="Cydia安裝"></a>Cydia安裝</h2><p><fancybox><img src="https://i.loli.net/2020/04/09/IEKw7SDPXdLxe6M.png" alt></fancybox></p><h2 id="攔截deb"><a href="#攔截deb" class="headerlink" title="攔截deb"></a>攔截deb</h2><p><strong>點擊「重新啟動SpringBoard」後，deb就會被刪除</strong></p><p><strong>所以請停止在這個畫面，然後操作攔截流程</strong></p><p><fancybox><img src="https://i.loli.net/2020/04/09/vEZl1jORzMsDUiA.png" alt></fancybox></p><ol><li>首先使用終端連線到越獄的設備</li><li>檢查該deb安裝檔案是否存在</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /private/var/mobile/Library/Caches/com.saurik.Cydia/archives/</span><br></pre></td></tr></table></figure><p><fancybox><img src="https://i.loli.net/2020/04/09/TnQ9qfsvpOgW8BL.png" alt></fancybox></p><p><strong>由此，可以確認我們要的檔案存在於</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/private/var/mobile/Library/Caches/com.saurik.Cydia/archives/com.haoict.messengernoads_0.0.2_iphoneos-arm.deb</span><br></pre></td></tr></table></figure><h2 id="利用SCP把檔案傳送到Mac裡"><a href="#利用SCP把檔案傳送到Mac裡" class="headerlink" title="利用SCP把檔案傳送到Mac裡"></a>利用SCP把檔案傳送到Mac裡</h2><p><strong>建議先把終端機的路徑移動到桌面</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp -P2222 root@127.0.0.1:/private/var/mobile/Library/Caches/com.saurik.Cydia/archives/com.haoict.messengernoads_0.0.2_iphoneos-arm.deb ./</span><br></pre></td></tr></table></figure><h2 id="把deb裡面的dylib拆出來"><a href="#把deb裡面的dylib拆出來" class="headerlink" title="把deb裡面的dylib拆出來"></a>把deb裡面的dylib拆出來</h2><p><strong>使用betterzip把dylib拿出來</strong></p><ul><li>安裝betterzip</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew cask install betterzip</span><br></pre></td></tr></table></figure><ul><li><p>Extract data<br><fancybox><img src="https://i.loli.net/2020/04/09/qO45Pg21JIWBUy8.png" alt></fancybox></p></li><li><p>持續解壓縮data並獲得Library<br><fancybox><img src="https://i.loli.net/2020/04/09/fCRkSTPpt516He8.png" alt></fancybox></p></li><li><p>獲得dylib<br><fancybox><img src="https://i.loli.net/2020/04/09/DfK7QPl4xAnIqNJ.png" alt></fancybox></p></li></ul><h2 id="把Messenger砸殼"><a href="#把Messenger砸殼" class="headerlink" title="把Messenger砸殼"></a>把Messenger砸殼</h2><p><a href="https://ios.league2eb.me/posts/b6771505/">frida砸殼</a><br><a href="https://ios.league2eb.me/posts/e0179831/">Clutch砸殼</a></p><h2 id="桌面建立一個資料夾，裡面要有這些東西"><a href="#桌面建立一個資料夾，裡面要有這些東西" class="headerlink" title="桌面建立一個資料夾，裡面要有這些東西"></a>桌面建立一個資料夾，裡面要有這些東西</h2><p><fancybox><img src="https://i.loli.net/2020/04/09/fkW14xDg8nXmVC6.png" alt></fancybox></p><ol><li>砸殼的應用</li><li>libsubstrate.dylib</li><li>插件的dylib</li></ol><h2 id="解壓縮砸殼應用"><a href="#解壓縮砸殼應用" class="headerlink" title="解壓縮砸殼應用"></a>解壓縮砸殼應用</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip Messenger.ipa</span><br></pre></td></tr></table></figure><h2 id="把libsubstrate-dylib、messengernoads-dylib丟進去Payload-Messenger"><a href="#把libsubstrate-dylib、messengernoads-dylib丟進去Payload-Messenger" class="headerlink" title="把libsubstrate.dylib、messengernoads.dylib丟進去Payload/Messenger"></a>把libsubstrate.dylib、messengernoads.dylib丟進去Payload/Messenger</h2><p><strong>等等會用到</strong></p><h2 id="進入Payload-Messenger修改info-plist"><a href="#進入Payload-Messenger修改info-plist" class="headerlink" title="進入Payload/Messenger修改info.plist"></a>進入Payload/Messenger修改info.plist</h2><ul><li>把下圖內容刪除<br><fancybox><img src="https://i.loli.net/2020/04/09/Ju28bs6Slcw1TLi.png" alt></fancybox></li></ul><p><strong>這些是支援的設備，若要支援所有的設備這個KEY必須刪除</strong></p><h2 id="打開終端機並移動到Payload-Messenger底下"><a href="#打開終端機並移動到Payload-Messenger底下" class="headerlink" title="打開終端機並移動到Payload/Messenger底下"></a>打開終端機並移動到Payload/Messenger底下</h2><ul><li>查看messengernoads.dylib</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">otool -L messengernoads.dylib</span><br></pre></td></tr></table></figure><p><strong>會看到越獄手機才會用到的CydiaSubstrate</strong><br><fancybox><img src="https://i.loli.net/2020/04/09/2JmDqXQ5IlTrzvY.png" alt></fancybox></p><ul><li>利用install_name_tool替換CydiaSubstrate -&gt; libsubstrate.dylib</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">install_name_tool -change /Library/Frameworks/CydiaSubstrate.framework/CydiaSubstrate @loader_path/libsubstrate.dylib messengernoads.dylib</span><br></pre></td></tr></table></figure><ul><li>再次查看messengernoads.dylib</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">otool -L messengernoads.dylib</span><br></pre></td></tr></table></figure><p><strong>會發現原來的文件路徑改為絕對路徑表示成功</strong><br><fancybox><img src="https://i.loli.net/2020/04/09/HRNa5BIMpYCF3fb.png" alt></fancybox></p><h2 id="利用optool把dylib注入到目標的二進文件"><a href="#利用optool把dylib注入到目標的二進文件" class="headerlink" title="利用optool把dylib注入到目標的二進文件"></a>利用optool把dylib注入到目標的二進文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">optool install -c load -p <span class="string">"@executable_path/messengernoads.dylib"</span> -t ./Messenger</span><br></pre></td></tr></table></figure><p><strong>結果如下，表示成功</strong><br><fancybox><img src="https://i.loli.net/2020/04/09/t5yxw4ubGALjfWX.png" alt></fancybox></p><h2 id="重新包裝iPA檔案"><a href="#重新包裝iPA檔案" class="headerlink" title="重新包裝iPA檔案"></a>重新包裝iPA檔案</h2><ol><li>將Payload壓縮</li></ol><p><fancybox><img src="https://i.loli.net/2020/04/09/IxHbdJ8BznRwuGh.png" alt></fancybox></p><ol start="2"><li>更改壓縮檔案附檔名為xxx.ipa</li></ol><p><fancybox><img src="https://i.loli.net/2020/04/09/ty2PC43sKezf8Mq.png" alt></fancybox></p><h2 id="重簽名"><a href="#重簽名" class="headerlink" title="重簽名"></a>重簽名</h2><p><a href="https://lmgtfy.com/?q=ios+ipa+resign" target="_blank" rel="noopener">絕對學的會的方法連結</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;本篇僅供學術使用&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;閱讀對象：不想要手機越獄，但又想要安裝帶有Tweak功能的應用&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;具備條件&quot;&gt;&lt;a href=&quot;#具備條件&quot; class=&quot;headerlink&quot; ti
      
    
    </summary>
    
    
      <category term="Jailbreak" scheme="https://ios.league2eb.me/categories/Jailbreak/"/>
    
    
      <category term="iOS" scheme="https://ios.league2eb.me/tags/iOS/"/>
    
      <category term="Mac" scheme="https://ios.league2eb.me/tags/Mac/"/>
    
      <category term="Jailbreak" scheme="https://ios.league2eb.me/tags/Jailbreak/"/>
    
  </entry>
  
  <entry>
    <title>CoronaTracker</title>
    <link href="https://ios.league2eb.me/posts/a505ca0f/"/>
    <id>https://ios.league2eb.me/posts/a505ca0f/</id>
    <published>2020-03-17T15:34:47.000Z</published>
    <updated>2020-06-04T10:22:39.577Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://i.loli.net/2020/03/17/ujCGwgsmZT1OrEk.png" alt></p><h2 id="我覺得很猛，不分享不行！"><a href="#我覺得很猛，不分享不行！" class="headerlink" title="我覺得很猛，不分享不行！"></a>我覺得很猛，不分享不行！</h2><p><a href="https://github.com/MhdHejazi" target="_blank" rel="noopener">作者</a></p><h2 id="條件"><a href="#條件" class="headerlink" title="條件"></a>條件</h2><ul><li>一台蘋果電腦</li><li>macOS Catalina以上</li><li>brew cask</li></ul><h2 id="如果你也是RD，這是Repositories"><a href="#如果你也是RD，這是Repositories" class="headerlink" title="如果你也是RD，這是Repositories"></a>如果你也是RD，這是Repositories</h2><p><a href="https://github.com/MhdHejazi/CoronaTracker" target="_blank" rel="noopener">CoronaTracker</a></p><h2 id="如果你已經有-brew-cask"><a href="#如果你已經有-brew-cask" class="headerlink" title="如果你已經有 brew cask"></a>如果你已經有 brew cask</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew cask install corona-tracker</span><br></pre></td></tr></table></figure><h2 id="如果沒有，但你又想安裝"><a href="#如果沒有，但你又想安裝" class="headerlink" title="如果沒有，但你又想安裝"></a>如果沒有，但你又想安裝</h2><p>打開終端機，他長這樣<br><img src="https://i.loli.net/2020/03/17/yn1Y3kOclJHpKQz.png" alt></p><p>輸入下面的指令</p><h2 id="安裝Brew"><a href="#安裝Brew" class="headerlink" title="安裝Brew"></a>安裝Brew</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bin/bash -c <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)</span>"</span></span><br></pre></td></tr></table></figure><p><strong>過程中如果有請你輸入電腦密碼請注意輸入的時候看不到密碼</strong></p><h2 id="安裝Brew-cask"><a href="#安裝Brew-cask" class="headerlink" title="安裝Brew cask"></a>安裝Brew cask</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install  caskroom/cask/brew-cask</span><br></pre></td></tr></table></figure><h2 id="安裝CoronaTracker"><a href="#安裝CoronaTracker" class="headerlink" title="安裝CoronaTracker"></a>安裝CoronaTracker</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew cask install corona-tracker</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://i.loli.net/2020/03/17/ujCGwgsmZT1OrEk.png&quot; alt&gt;&lt;/p&gt;
&lt;h2 id=&quot;我覺得很猛，不分享不行！&quot;&gt;&lt;a href=&quot;#我覺得很猛，不分享不行！&quot; class=&quot;headerlink&quot; ti
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>移除ipa簽名</title>
    <link href="https://ios.league2eb.me/posts/34109c5c/"/>
    <id>https://ios.league2eb.me/posts/34109c5c/</id>
    <published>2020-02-13T03:30:39.000Z</published>
    <updated>2020-06-04T10:22:39.584Z</updated>
    
    <content type="html"><![CDATA[<h2 id="為什麼？"><a href="#為什麼？" class="headerlink" title="為什麼？"></a>為什麼？</h2><p>因為企業簽名的應用下載後看了很賭爛想要移除</p><p><img src="https://i.loli.net/2020/02/13/6Ee9yLpQk4aKFvh.png" alt></p><h2 id="先把ipa弄成APP"><a href="#先把ipa弄成APP" class="headerlink" title="先把ipa弄成APP"></a>先把ipa弄成APP</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip xxx.ipa</span><br></pre></td></tr></table></figure><h2 id="進入Payload中的xxx-app"><a href="#進入Payload中的xxx-app" class="headerlink" title="進入Payload中的xxx.app"></a>進入Payload中的xxx.app</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">codesign --remove-signature xxx</span><br></pre></td></tr></table></figure><h2 id="移除xxx-app中所有Frameworks簽名"><a href="#移除xxx-app中所有Frameworks簽名" class="headerlink" title="移除xxx.app中所有Frameworks簽名"></a>移除xxx.app中所有Frameworks簽名</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">codesign --remove-signature Alamofire.framework</span><br></pre></td></tr></table></figure><h2 id="每一個都要"><a href="#每一個都要" class="headerlink" title="每一個都要"></a>每一個都要</h2><p><img src="https://i.loli.net/2020/02/13/6uTFwtJfModqR5W.png" alt></p><h2 id="壓縮Payload後把壓縮檔改副檔名…"><a href="#壓縮Payload後把壓縮檔改副檔名…" class="headerlink" title="壓縮Payload後把壓縮檔改副檔名…"></a>壓縮Payload後把壓縮檔改副檔名…</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;為什麼？&quot;&gt;&lt;a href=&quot;#為什麼？&quot; class=&quot;headerlink&quot; title=&quot;為什麼？&quot;&gt;&lt;/a&gt;為什麼？&lt;/h2&gt;&lt;p&gt;因為企業簽名的應用下載後看了很賭爛想要移除&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.loli.net/2020
      
    
    </summary>
    
    
    
      <category term="iOS" scheme="https://ios.league2eb.me/tags/iOS/"/>
    
      <category term="Mac" scheme="https://ios.league2eb.me/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>獲取ipa中的Schemes</title>
    <link href="https://ios.league2eb.me/posts/bc44b46b/"/>
    <id>https://ios.league2eb.me/posts/bc44b46b/</id>
    <published>2020-02-08T16:14:39.000Z</published>
    <updated>2020-06-05T21:01:52.195Z</updated>
    
    <content type="html"><![CDATA[<h2 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h2><p>有跳轉其他應用需求時可能會需要查找該應用的Schemes來達到目標</p><h2 id="取得ipa"><a href="#取得ipa" class="headerlink" title="取得ipa"></a>取得ipa</h2><p><a href="https://ios.league2eb.me/posts/b6771505/">APP砸殼正確姿勢</a></p><h2 id="執行腳本"><a href="#執行腳本" class="headerlink" title="執行腳本"></a>執行腳本</h2><p>取得ipa後，利用下面的腳本來dump出所有的Schemes</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">#!/bin/sh   </span></span><br><span class="line"></span><br><span class="line">RESET=`tput sgr0`</span><br><span class="line">RED=`tput setaf 1`</span><br><span class="line">GREEN=`tput setaf 2`</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">"<span class="variable">$1</span>"</span> ]; <span class="keyword">then</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> ! [ -e <span class="string">"<span class="variable">$1</span>"</span> ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"⛔️️️️️️️️⛔️⛔️ <span class="variable">$&#123;RED&#125;</span><span class="variable">$1</span> does not exist!"</span></span><br><span class="line">        <span class="built_in">exit</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;RESET&#125;</span>Unzipping..."</span></span><br><span class="line">    <span class="keyword">if</span> ! [ -e <span class="string">"<span class="variable">$1</span>.zip"</span> ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        mv <span class="string">"<span class="variable">$1</span>"</span> <span class="string">"<span class="variable">$1</span>.zip"</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    mkdir <span class="string">"extractSchemeURLTemp"</span></span><br><span class="line">    unzip <span class="string">"<span class="variable">$1</span>.zip"</span> -d <span class="string">"extractSchemeURLTemp"</span> &amp;&gt;/dev/null</span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"✅ URL Schemes:"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;GREEN&#125;</span>"</span></span><br><span class="line"></span><br><span class="line">    files=(extractSchemeURLTemp/Payload/*.app)</span><br><span class="line">    APP_PATH=<span class="variable">$&#123;files[0]&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"cat /plist/dict/key[text()='CFBundleURLTypes']/following-sibling::array/dict/array/string/text()"</span> | xmllint --shell <span class="variable">$&#123;APP_PATH&#125;</span>/Info.plist | sed <span class="string">'/^\/ &gt;/d'</span> | sed <span class="string">'s/&lt;[^&gt;]*.//g'</span></span><br><span class="line"></span><br><span class="line">    mv <span class="string">"<span class="variable">$1</span>.zip"</span> <span class="string">"<span class="variable">$1</span>"</span></span><br><span class="line">    rm -rf <span class="string">"extractSchemeURLTemp"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;GREEN&#125;</span>⚙️  Installed extractSchemeURL!"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -e scripts/extract-scheme-url.sh ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    cp scripts/extract-scheme-url.sh ~/.extract-scheme-url.sh  </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">    <span class="keyword">if</span> [ -e extract-scheme-url.sh ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        cp extract-scheme-url.sh ~/.extract-scheme-url.sh</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -e ~/.bashrc ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    string=$(&lt;~/.bashrc)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ! [[ <span class="variable">$string</span> == *<span class="string">"alias extractSchemeURL=\"bash ~/.extract-scheme-url.sh\""</span>* ]]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"Setting extractSchemeURL..."</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"alias extractSchemeURL=\"bash ~/.extract-scheme-url.sh\""</span> &gt;&gt; ~/.bashrc</span><br><span class="line">        cat ~/.bashrc</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"Setting extractSchemeURL..."</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"alias extractSchemeURL=\"bash ~/.extract-scheme-url.sh\""</span> &gt; ~/.bashrc</span><br><span class="line">    cat ~/.bashrc</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure><h2 id="出處"><a href="#出處" class="headerlink" title="出處"></a>出處</h2><p><a href="https://tinyurl.com/v56qesw" target="_blank" rel="noopener">該腳本來源</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;需求&quot;&gt;&lt;a href=&quot;#需求&quot; class=&quot;headerlink&quot; title=&quot;需求&quot;&gt;&lt;/a&gt;需求&lt;/h2&gt;&lt;p&gt;有跳轉其他應用需求時可能會需要查找該應用的Schemes來達到目標&lt;/p&gt;
&lt;h2 id=&quot;取得ipa&quot;&gt;&lt;a href=&quot;#取得ipa&quot; 
      
    
    </summary>
    
    
      <category term="iOS" scheme="https://ios.league2eb.me/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://ios.league2eb.me/tags/iOS/"/>
    
      <category term="Jailbreak" scheme="https://ios.league2eb.me/tags/Jailbreak/"/>
    
  </entry>
  
  <entry>
    <title>Resize圖片大小</title>
    <link href="https://ios.league2eb.me/posts/2da99f33/"/>
    <id>https://ios.league2eb.me/posts/2da99f33/</id>
    <published>2020-02-04T16:02:09.000Z</published>
    <updated>2020-06-04T10:22:39.579Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安裝"><a href="#安裝" class="headerlink" title="安裝"></a>安裝</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install imagemagick</span><br></pre></td></tr></table></figure><h2 id="不會指令？"><a href="#不會指令？" class="headerlink" title="不會指令？"></a>不會指令？</h2><p><a href="https://imagemagick.org/script/download.php" target="_blank" rel="noopener">官網下載</a></p><h2 id="終端指令"><a href="#終端指令" class="headerlink" title="終端指令"></a>終端指令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">magick mogrify -format jpg -resize 50% ./demo.jpg</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;安裝&quot;&gt;&lt;a href=&quot;#安裝&quot; class=&quot;headerlink&quot; title=&quot;安裝&quot;&gt;&lt;/a&gt;安裝&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span c
      
    
    </summary>
    
    
      <category term="Shell" scheme="https://ios.league2eb.me/categories/Shell/"/>
    
    
  </entry>
  
  <entry>
    <title>修改image的Hash?</title>
    <link href="https://ios.league2eb.me/posts/662e9349/"/>
    <id>https://ios.league2eb.me/posts/662e9349/</id>
    <published>2020-01-16T06:48:14.000Z</published>
    <updated>2020-06-04T10:22:39.582Z</updated>
    
    <content type="html"><![CDATA[<h3 id="發生錯誤產生條件"><a href="#發生錯誤產生條件" class="headerlink" title="發生錯誤產生條件"></a>發生錯誤產生條件</h3><ol><li>專案內有多的Target (不確定是不是因為這樣，但基本上不會需要多個Target)</li><li>共用到了相同的一些項目圖片也整個複製過去的混亂情況</li></ol><h3 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h3><p>圖片檔案名稱不同，但使用fastlane打包時提示CompileAssetCatalog的錯誤問題<br>基本上從瞎掰的角度來說，Xcode應該是認知到「欸～你的專案底下有兩張一樣的圖片噢！」<br>但明明已經修改了檔案名稱為什麼還會被這樣認為呢？<br>因為Xcode認的是圖片背後的hash!<br>上述所說的都是我個人亂猜</p><h3 id="驗證"><a href="#驗證" class="headerlink" title="驗證"></a>驗證</h3><p>建立一個資料夾並且放一張圖片<br><fancybox><img src="https://i.loli.net/2020/01/16/kJwQOXdp9CltGSc.png" alt></fancybox></p><ul><li>使用指令查看該圖片的hash</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shasum 1.jpeg</span><br></pre></td></tr></table></figure><p>結果如圖<br><fancybox><img src="https://i.loli.net/2020/01/16/VcYsWoBbxIFHz8l.png" alt></fancybox></p><p>複製該張圖片到同一個資料夾，系統會替你加上「拷貝」兩個字</p><p><fancybox><img src="https://i.loli.net/2020/01/16/bWg7kZq4xjrME3N.png" alt></fancybox></p><ul><li>使用指令查看該拷貝圖片的hash</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shasum 1拷貝.jpeg</span><br></pre></td></tr></table></figure><p><fancybox><img src="https://i.loli.net/2020/01/16/MuZrcyED6tvKFAY.png" alt></fancybox></p><p><strong>就算檔案名稱不同，兩個hash是一樣的，Xcode就會認為是同一張圖片？</strong></p><h3 id="解決"><a href="#解決" class="headerlink" title="解決"></a>解決</h3><ul><li>安裝ImageMagick</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install imagemagick</span><br></pre></td></tr></table></figure><ul><li>修改hash(但我覺得這個指令背後做的事情是有壓縮的，但不影響)</li><li>修改拷貝圖片的hash</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -iname 1拷貝.jpeg -<span class="built_in">exec</span> <span class="built_in">echo</span> &#123;&#125; \; -<span class="built_in">exec</span> convert &#123;&#125; &#123;&#125; \;</span><br></pre></td></tr></table></figure><p>再次驗證可以清楚的看到兩張圖片的hash確實已經不一樣了<br><fancybox><img src="https://i.loli.net/2020/01/16/xRh3t5CaVcP9b1f.png" alt></fancybox></p><ul><li>如果想要一次性修改當前目錄下的所有圖片</li><li>注意指令內的附檔名 ex *.png or *.jpeg</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -iname <span class="string">"*.png"</span> -<span class="built_in">exec</span> <span class="built_in">echo</span> &#123;&#125; \; -<span class="built_in">exec</span> convert &#123;&#125; &#123;&#125; \;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;發生錯誤產生條件&quot;&gt;&lt;a href=&quot;#發生錯誤產生條件&quot; class=&quot;headerlink&quot; title=&quot;發生錯誤產生條件&quot;&gt;&lt;/a&gt;發生錯誤產生條件&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;專案內有多的Target (不確定是不是因為這樣，但基本上不會需要多個Targe
      
    
    </summary>
    
    
      <category term="Xcode" scheme="https://ios.league2eb.me/categories/Xcode/"/>
    
    
      <category term="Mac" scheme="https://ios.league2eb.me/tags/Mac/"/>
    
  </entry>
  
</feed>
